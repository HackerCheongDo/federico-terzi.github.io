__NUXT_JSONP__("/", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE){return {data:[{articles:[{slug:"2022-01-04-12-rust-tips-and-tricks-you-might-not-know-yet",description:"Rust is a great programming language: reliable, fast, enjoyable, but also rather complex. Over the past two years, I’ve been using it both professionally and on side projects (such as Espanso) and, over that time, I stumbled upon many useful patterns and crates that I wish I knew when I first started learning it.",layout:az,title:"12 Rust Tips and Tricks you might not know yet",author:aA,date:"2022-01-04T00:00:00.000Z",categories:"rust tips tricks tip crates useful",toc:[{id:aX,depth:G,text:aY},{id:aZ,depth:G,text:a_},{id:a$,depth:G,text:ba},{id:bb,depth:G,text:bc},{id:bd,depth:G,text:be},{id:bf,depth:G,text:bg},{id:bh,depth:G,text:bi},{id:bj,depth:G,text:bk},{id:bl,depth:G,text:bm},{id:bn,depth:G,text:bo},{id:bp,depth:G,text:bq},{id:br,depth:G,text:bs}],body:{type:ab,children:[{type:b,tag:j,props:{},children:[{type:a,value:bt},{type:b,tag:k,props:{href:aB,rel:[m,n,o],target:p},children:[{type:a,value:aC}]},{type:a,value:bu}]},{type:a,value:f},{type:a,value:f},{type:b,tag:H,props:{id:aX},children:[{type:b,tag:k,props:{href:"#using-cowstr-as-return-type",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:aY}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Sometimes you need to write methods that accept a string slice (&str) and conditionally return either a modified version of it or the original one. For these cases, you might use "},{type:b,tag:k,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fborrow\u002Fenum.Cow.html",rel:[m,n,o],target:p},children:[{type:a,value:"Cow\u003Cstr\u003E"}]},{type:a,value:", so that you only allocate new memory when necessary."}]},{type:a,value:f},{type:b,tag:R,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,V]},children:[{type:b,tag:W,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ap}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:a,value:"borrow"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aH}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"match"}]},{type:a,value:" name"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"nth"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:"0"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"if"}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"is_uppercase"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F No allocation is necessary, as the string"}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F already starts with an uppercase char"}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F An allocation is necessary, as the old string"}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F does not start with an uppercase char"}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:af}]},{type:a,value:" new_string"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"String"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:X}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"to_uppercase"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"chain"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"skip"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:"1"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"collect"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            \n            "},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"Owned"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"new_string"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"None"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"bob\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"   "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Allocation"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"John\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F No allocation"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:aZ},children:[{type:b,tag:k,props:{href:"#crossbeam-channels-instead-of-the-standard-ones",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:a_}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:bC},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Fcrossbeam-rs\u002Fcrossbeam",rel:[m,n,o],target:p},children:[{type:a,value:"crossbeam crate"}]},{type:a,value:" offers a powerful alternative to standard channels with support for the Select operation, timeouts, and more. Similar to what you get out of the box in Golang and traditional Unix sockets."}]},{type:a,value:f},{type:b,tag:R,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,V]},children:[{type:b,tag:W,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ap}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:"crossbeam_channel"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:"select"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:" unbounded"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ap}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:a,value:"time"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"s1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:" r1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"s2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:" r2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n    s1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"send"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:"10"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:"select!"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"r1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aH}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"r1 \u003E {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"r2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aH}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"r2 \u003E {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"default"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"from_millis"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:"100"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"timed out\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:a$},children:[{type:b,tag:k,props:{href:"#golang-like-defer-operator-with-scopeguard",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:ba}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If you are coming from Golang, you might miss the \"defer\" operator for certain use-cases (like freeing memory when working with raw pointers or closing a socket)."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"In Rust (besides the RAII pattern), you can use the "},{type:b,tag:k,props:{href:"https:\u002F\u002Fdocs.rs\u002Fscopeguard\u002Flatest\u002Fscopeguard\u002F",rel:[m,n,o],target:p},children:[{type:a,value:bK}]},{type:a,value:" crate to easily implement \"cleaup\" logic."}]},{type:a,value:f},{type:b,tag:R,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,V]},children:[{type:b,tag:W,props:{},children:[{type:b,tag:c,props:{className:[d,bL,bM]},children:[{type:a,value:"#[macro_use(defer)]"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"crate"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"module-declaration",ac]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"start\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F This action will run at the end of the current scope"}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:"defer!"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:"\n           "},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"defer\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:"\n\n        "},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"scope end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aJ}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F start"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F scope end"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F defer"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F end"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:bb},children:[{type:b,tag:k,props:{href:"#cargo-make-for-packaging",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:bc}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:k,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fcargo\u002Freference\u002Fbuild-scripts.html",rel:[m,n,o],target:p},children:[{type:a,value:"Build scripts"}]},{type:a,value:" are great for a lot of things, but usually not for packaging. My favorite solution for that is "},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Fsagiegurari\u002Fcargo-make",rel:[m,n,o],target:p},children:[{type:a,value:"Cargo Make"}]},{type:a,value:" by "},{type:b,tag:k,props:{href:"https:\u002F\u002Fsagiegurari.github.io\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"sagiegurari"}]},{type:a,value:", a Rust-based task runner and build tool."}]},{type:a,value:f},{type:b,tag:H,props:{id:bd},children:[{type:b,tag:k,props:{href:"#customize-and-chain-panic-handlers",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:be}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:k,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fpanic\u002Ffn.set_hook.html",rel:[m,n,o],target:p},children:[{type:a,value:"Panic handlers (called hooks)"}]},{type:a,value:" can be overridden and chained, which becomes particularly useful when setting up custom error reporting and logging for your application."}]},{type:a,value:f},{type:b,tag:R,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,V]},children:[{type:b,tag:W,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ap}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:" take_hook"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:af}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aM]},children:[{type:b,tag:c,props:{className:[d,ag,e]},children:[{type:a,value:ah}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,ag,e]},children:[{type:a,value:ah}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"custom logging logic {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:af}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aM]},children:[{type:b,tag:c,props:{className:[d,ag,e]},children:[{type:a,value:ah}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,ag,e]},children:[{type:a,value:ah}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"custom error reporting logic {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:"panic!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"test\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aJ}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F custom error reporting logic panicked at 'test', src\u002Fmain.rs:20:5"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F custom logging logic panicked at 'test', src\u002Fmain.rs:20:5"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:bf},children:[{type:b,tag:k,props:{href:"#use-rust-analyzer-on-vscode",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:bg}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:bC},{type:b,tag:k,props:{href:"https:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=matklad.rust-analyzer",rel:[m,n,o],target:p},children:[{type:a,value:"Rust analyzer"}]},{type:a,value:" VSCode extension by "},{type:b,tag:k,props:{href:"https:\u002F\u002Fmatklad.github.io\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"matklad"}]},{type:a,value:" is significantly better than the “official” Rust one. Unfortunately, it’s still showing as a second result on the extensions marketplace, misguiding a lot of beginners."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:au,props:{alt:"Rust Analyzer extension",src:"\u002Fposts\u002Frustanalyzer.png"},children:[]}]},{type:a,value:f},{type:b,tag:H,props:{id:bh},children:[{type:b,tag:k,props:{href:"#use-impl-trait-when-working-with-closures",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:bi}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Prefer impl Fn\u002FFnOnce\u002FFnMut to pass a closure to a function (called impl Trait) instead of a generic when possible to keep the signature clean. For non-trivial cases, you might need to box the closure with Box\u003CFn()\u003E, but keep in mind you’ll pay an additional overhead."}]},{type:a,value:f},{type:b,tag:R,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,V]},children:[{type:b,tag:W,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Instead of this"}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:"setup_teardown_generic"}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:ar}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Use this"}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:b_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"impl"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F As a note, this pattern is very useful inside tests"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F to create\u002Fdestroy resources."}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:b_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aM]},children:[{type:b,tag:c,props:{className:[d,ag,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,ag,e]},children:[{type:a,value:ah}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"Action!\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aJ}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F setting up..."}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Action!"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F tearing down..."}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:bj},children:[{type:b,tag:k,props:{href:"#enable-clippy-on-save-for-vscode",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:bk}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If you’re using VSCode + Rust Analyzer, I highly suggest going into the settings \u003E Rust Analyzer \u003E Check On Save: Command and setting \"clippy\" as the new default instead of \"check\". Same UX, better warnings."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:au,props:{alt:"Enable Clippy on Save",src:"\u002Fposts\u002Fclippyonsave.png"},children:[]}]},{type:a,value:f},{type:b,tag:H,props:{id:bl},children:[{type:b,tag:k,props:{href:"#use-thiserror-and-anyhow-for-idiomatic-error-handling",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:bm}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:aN},{type:b,tag:k,props:{href:"https:\u002F\u002Fdocs.rs\u002Fthiserror\u002Flatest\u002Fthiserror\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"thiserror"}]},{type:a,value:aw},{type:b,tag:k,props:{href:"https:\u002F\u002Fcrates.io\u002Fcrates\u002Fanyhow",rel:[m,n,o],target:p},children:[{type:a,value:"anyhow"}]},{type:a,value:" crates for idiomatic error handling. You should use thiserror when the consumer needs to conditionally act based on the error, anyhow otherwise. A good guideline is “use thiserror for libraries and anyhow for applications”."}]},{type:a,value:f},{type:b,tag:H,props:{id:bn},children:[{type:b,tag:k,props:{href:"#using-dbg-macro-instead-of-println",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:bo}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:aN},{type:b,tag:k,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstable\u002Fstd\u002Fmacro.dbg.html",rel:[m,n,o],target:p},children:[{type:a,value:"dbg!() macro"}]},{type:a,value:" instead of println!() when debugging. Less code, more useful information."}]},{type:a,value:f},{type:b,tag:R,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,V]},children:[{type:b,tag:W,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:af}]},{type:a,value:" var1 "},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Output: 2"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"var1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"        "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Output: [src\u002Fmain.rs:5] var1 = 2"}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"var1 "},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:"*"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"    "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Output: [src\u002Fmain.rs:6] var1 * 2 = 4"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:bp},children:[{type:b,tag:k,props:{href:"#include_str-and-include_bytes-macros",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:bq}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:aN},{type:b,tag:k,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.include_str.html",rel:[m,n,o],target:p},children:[{type:a,value:"include_str!()"}]},{type:a,value:aw},{type:b,tag:k,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.include_bytes.html",rel:[m,n,o],target:p},children:[{type:a,value:"include_bytes!()"}]},{type:a,value:" macros to read the content of a file at "},{type:b,tag:ai,props:{},children:[{type:a,value:"compile time"}]},{type:a,value:" and store it inside a const. Useful to avoid messing with multiline string literals."}]},{type:a,value:f},{type:b,tag:R,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,V]},children:[{type:b,tag:W,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Both of these files are read at *compile time*"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ca}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aP]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:"include_str!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\".\u002Fpath\u002Fto\u002Fthe\u002Ffile.txt\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ca}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aP]},children:[{type:a,value:"BINARY_FILE_CONTENT"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"["}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"u8"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"]"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,x]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:"include_bytes!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\".\u002Fpath\u002Fto\u002Fimage.png\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aP]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Output: file content as string"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:H,props:{id:br},children:[{type:b,tag:k,props:{href:"#integrating-with-cc-code",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:bs}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If you need to integrate C\u002FC++ code with Rust, the "},{type:b,tag:k,props:{href:"https:\u002F\u002Fcrates.io\u002Fcrates\u002Fcc",rel:[m,n,o],target:p},children:[{type:a,value:"cc crate"}]},{type:a,value:" and the proper build script can get you pretty far. For example, I’ve used them to integrate wxWidgets, a popular C++ gui framework, with my project "},{type:b,tag:k,props:{href:aB,rel:[m,n,o],target:p},children:[{type:a,value:aC}]},{type:a,value:" (see the "},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\u002Fblob\u002Fmaster\u002Fespanso-modulo\u002Fbuild.rs",rel:[m,n,o],target:p},children:[{type:a,value:"build script"}]},{type:a,value:h}]},{type:a,value:f},{type:b,tag:R,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,V]},children:[{type:b,tag:W,props:{},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Inside the build script (build.rs)"}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"cargo:rerun-if-changed=src\u002Fnative.c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"cargo:rerun-if-changed=src\u002Fnative.h\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,ac]},children:[{type:a,value:"cc"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"Build"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"include"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"src\u002Fnative.h\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"file"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"src\u002Fnative.c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:s},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"compile"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,v,w]},children:[{type:a,value:F}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"cargo:rustc-link-lib=static=nativemodule\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\u002F\u002F Then, in another Rust file (for example, ffi.rs)"}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,bL,bM]},children:[{type:a,value:"#[link(name = "},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:cc}]},{type:a,value:", kind = "},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"static\""}]},{type:a,value:")]"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"C\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:C}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"pub"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,P,l]},children:[{type:a,value:"your_cool_c_module"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Thanks for reading! If you like these topics, make sure to follow me on "},{type:b,tag:k,props:{href:aQ,rel:[m,n,o],target:p},children:[{type:a,value:aR}]},{type:a,value:aw},{type:b,tag:k,props:{href:aS,rel:[m,n,o],target:p},children:[{type:a,value:"YouTube"}]},{type:a,value:" to stay updated with the latest articles and videos."}]}]},excerpt:{type:ab,children:[{type:b,tag:j,props:{},children:[{type:a,value:bt},{type:b,tag:k,props:{href:aB,rel:[m,n,o],target:p},children:[{type:a,value:aC}]},{type:a,value:bu}]}]},dir:aT,path:"\u002Farticles\u002F2022-01-04-12-rust-tips-and-tricks-you-might-not-know-yet",extension:aU,createdAt:ao,updatedAt:ao,cleanedSlug:"12-rust-tips-and-tricks-you-might-not-know-yet"},{slug:"2021-05-04-rust-vs-cpp-which-is-better-and-why",description:aV,layout:az,title:"Rust vs C++, which is better and why?",author:aA,date:"2021-05-04T00:00:00.000Z",categories:"rust cpp c comparison between difference similarity pro cons advantages",toc:[{id:cd,depth:G,text:ce},{id:cf,depth:G,text:cg},{id:ch,depth:G,text:ci},{id:cj,depth:G,text:ck},{id:cl,depth:G,text:cm},{id:ax,depth:G,text:ay}],body:{type:ab,children:[{type:b,tag:j,props:{},children:[{type:a,value:aV}]},{type:a,value:f},{type:a,value:f},{type:b,tag:H,props:{id:cd},children:[{type:b,tag:k,props:{href:"#similarities",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:ce}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Both Rust and C++ are system programming languages, which means they can be used to write low-level code like kernels and firmware for microcontrollers. But compared with C, they offer a lot of abstractions that make it possible to go high-level as well, for example, writing games and web applications."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Another similarity is that neither of them uses a garbage collector to manage memory, which makes the code much more predictable, efficient, and in many cases faster. Of course, if you ever used C, you will know that managing memory yourself is hard. Besides the cognitive overhead, you are also running the risk of causing segmentation faults and undefined behaviors."}]},{type:a,value:f},{type:b,tag:H,props:{id:cf},children:[{type:b,tag:k,props:{href:"#memory-and-thread-safety",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:cg}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"For this reason, modern C++ introduced concepts like smart pointers as a way to mitigate those memory-related bugs, but despite the significant improvements, they are limited in the number of guarantees they can offer. Rust takes it a step further and introduces the borrow checker, a component bundled within the compiler itself that makes sure that a reference does not outlive the data they refer to, preventing entire classes of memory unsafety bugs."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Another big selling point for Rust is its rich type system, which makes it possible to prevent data races at compile time. It does so by introducing two special traits, Sync and Send, which are used by the compiler to determine whether a multi-threaded operation is safe or not. And while sharing some memory between threads is possible in Rust, the compiler will stop you from building a program that does so unsafely, preventing data races even before the program starts. For example, if you want to mutate a variable from multiple threads, the compiler will require you to wrap it with a Mutex or something equivalent, because in general, mutating an unsynchronized variable from multiple threads is unsafe, unless a synchronization primitive or atomic operation is used."}]},{type:a,value:f},{type:b,tag:H,props:{id:ch},children:[{type:b,tag:k,props:{href:"#unsafe-rust",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:ci}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Up to this point, we discussed the features of the so-called “safe Rust”, which provides guarantees like memory safety and prevents undefined behavior, but there is also another “version” of the language known as unsafe Rust, which basically gives you superpowers at the price of losing all those safety guarantees."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Are you wondering why this is needed? Well, there are mainly two reasons: if you want to interact with the low-level aspects of the operating system or hardware, those operations are inherently unsafe, so the “safe Rust” compiler, which is the one that tries to give you guarantees, is not able to do so. Therefore, if you still want to execute them, you have to explicitly tell the compiler to trust you and give up those safety guarantees, entering the “unsafe” side of Rust."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"The other reason is that when analyzing the code, the compiler is very conservative. From a guarantees point of view, it’s much better to block a valid program than to make an incorrect one pass the compilation step. Thus, there are times in which we might want to bypass those checks, and in order to do so, we need to enter the “unsafe” side as well."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"In a way, unsafe Rust and C++ are very similar. The main difference is that Rust programmers usually avoid the “unsafe” side as much as possible unless interfacing with the low-level aspects of the operating systems or when absolutely certain that an operation is correct, and this greatly reduces the surface for memory problems."}]},{type:a,value:f},{type:b,tag:H,props:{id:cj},children:[{type:b,tag:k,props:{href:"#package-management-and-ecosystem",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:ck}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"An area in which Rust is arguably better than C++ is package management. If you have ever worked with Python or JavaScript you will feel right at home with cargo, the official Rust package manager. Installing a package is just a matter of adding a line into cargo.toml file, whereas in C++ using an external library can be a huge pain, especially if targeting multiple operating systems. There have been some attempts to bring modern package management to C++, such as Conan and vcpkg, but they are far from being standardized or easy to use as cargo."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"With that being said, the C++ ecosystem is huge, much bigger than the Rust counterpart, as the former has been around for multiple decades. In other words, there are many more libraries for C++ than for Rust, with the latter sometimes lacking a suitable one."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"The good news is that Rust has a very good Foreign Function Interface, which means you can interface with C code very easily from Rust, and thus, also interface with C++ libraries by exposing a C API from them. Unfortunately, this is not always possible, especially in complex cases, but there are some ongoing attempts to make creating bindings easier. An example is the autocxx library, which is being developed by the Google Chrome team to investigate whether parts of the browser could be developed using Rust in the future."}]},{type:a,value:f},{type:b,tag:H,props:{id:cl},children:[{type:b,tag:k,props:{href:"#macros",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:cm}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Another interesting difference between the two languages is the macro system, which in Rust is much more powerful and safer. First of all, Rust ships with two kinds of macros: declarative and procedural. The former type is similar to the traditional C\u002FC++ macros, with the difference that macros are "},{type:b,tag:ai,props:{},children:[{type:a,value:"hygenic"}]},{type:a,value:", meaning that they cannot interfere with variables outside their scope and therefore don’t cause any unwanted side effects. On the other hand, procedural macros are completely different, much more powerful and also complex. They can be basically thought of as compiler plugins that receive the program syntax tree as input, manipulate it, and then return the enriched syntax tree as output. This makes it possible to create annotations, similarly to Java, that enrich the code at compile time."}]},{type:a,value:f},{type:b,tag:H,props:{id:ax},children:[{type:b,tag:k,props:{href:cn,ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:ay}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"To conclude, which of the two languages is better? As always, it depends! But these are the most important takeaways:"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Rust is likely to be the future of system programming, and the proof is that many of the big players (Microsoft, Apple, Google) are moving in that direction, gradually integrating Rust with their products. Don’t get me wrong, C++ is far from being dead and is not going away anytime soon due to the incredibly vast amount of legacy code built with it, but an increasing number of companies are choosing Rust over C++ for new products."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"My theory is that in 10-years’ time, most C++ jobs will be focused on maintaining legacy software rather than creating new products. But of course, that’s only my opinion and I might be wrong :)"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If you liked the article, you can follow me on "},{type:b,tag:k,props:{href:aQ,rel:[m,n,o],target:p},children:[{type:a,value:aR}]},{type:a,value:co},{type:b,tag:k,props:{href:aS,rel:[m,n,o],target:p},children:[{type:a,value:cp}]},{type:a,value:cq}]}]},excerpt:{type:ab,children:[{type:b,tag:j,props:{},children:[{type:a,value:aV}]}]},dir:aT,path:"\u002Farticles\u002F2021-05-04-rust-vs-cpp-which-is-better-and-why",extension:aU,createdAt:ao,updatedAt:ao,cleanedSlug:"rust-vs-cpp-which-is-better-and-why"},{slug:"2021-01-21-why-electron-is-a-necessary-evil",description:aW,layout:az,title:"Why Electron is a Necessary Evil",author:aA,date:"2021-01-21T00:00:00.000Z",categories:"electron cross-platform cross platform desktop application app wxwidgets qt alternative localhost server sciter",toc:[{id:cr,depth:$,text:cs},{id:ct,depth:$,text:cu},{id:cv,depth:$,text:cw},{id:cx,depth:$,text:cy},{id:cz,depth:$,text:cA},{id:cB,depth:$,text:cC},{id:ax,depth:$,text:ay}],body:{type:ab,children:[{type:b,tag:j,props:{},children:[{type:a,value:aW}]},{type:a,value:f},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"This Chrome-ception allows developers to build complete desktop applications using web technologies, including HTML, CSS, JS, and the ~500 MB of node_modules we all know and love."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Jokes aside, Electron offers several benefits that made it the preferred choice for most desktop applications developed today, including:"}]},{type:a,value:f},{type:b,tag:aj,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"Truly free and open source"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"Code once, deploy on Windows, macOS, and Linux"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"Unlimited flexibility when it comes to rich user interfaces"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"Vast adoption"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"That said, Electron often receives a great deal of criticism, especially among developers. Having worked on desktop development myself for a couple of years both professionally and for fun, I enjoy reading discussions about this topic and trying out different approaches. Over time, I developed the idea that Electron is a necessary evil, something that is (surprisingly) superior to the alternatives for many use-cases."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"This article is all about discussing the different approaches you can use to create cross-platform applications, along with their pros and cons. Ultimately, you will have a basic understanding of the different alternatives and their ideal use-cases. Perhaps, in the end, you will agree with me: Electron is not that bad."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Before jumping to the various alternatives, we first need to define the main Electron’s downsides people usually complain about:"}]},{type:a,value:f},{type:b,tag:aj,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:b,tag:ak,props:{},children:[{type:a,value:"High RAM consumption"}]},{type:a,value:": Electron apps tend to use a minimum of 80 MB of RAM, with lightweight apps in the 130-250 MB range and monsters like Slack sometimes reaching multi-GB values."}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:b,tag:ak,props:{},children:[{type:a,value:"Large storage footprint"}]},{type:a,value:": Shipping with a full Chromium runtime, you can expect most Electron apps to consume "},{type:b,tag:ai,props:{},children:[{type:a,value:"at least"}]},{type:a,value:" 150 MB of storage."}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:b,tag:ak,props:{},children:[{type:a,value:"Slow"}]},{type:a,value:": Some Electron apps are definitely slow, but that can depend on many factors. Overuse of animations, for example, can substantially increase the CPU usage and thus make the app feel slower. Did you notice that most desktop apps that feel snappy don’t include any animation? Just because you can with Electron, doesn’t mean you should."}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:b,tag:ak,props:{},children:[{type:a,value:"Lack of native UI\u002FUX"}]},{type:a,value:": Electron renders webpages and not native controls. On one hand, that gives complete freedom to designers, but on the other, the app looks different from the “native” ones. Unsurprisingly, this complaint usually comes from macOS users, where a single “native” framework exists: Cocoa. Due to the fragmentation of GUI frameworks on other platforms (especially Windows), non-macOS users are usually more tolerant of apps not sharing the same look and feel."}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:b,tag:ak,props:{},children:[{type:a,value:"Worse security"}]},{type:a,value:": Compared to the average website running on your web browser, Electron apps are incredibly more powerful (and dangerous) thanks to the NodeJS integration. If not properly configured, web pages running inside Electron can gain access to the entire system, which is particularly dangerous when displaying third-party websites. Luckily, it doesn’t have to be that way, as Electron provides "},{type:b,tag:k,props:{href:"https:\u002F\u002Fwww.electronjs.org\u002Fdocs\u002Ftutorial\u002Fcontext-isolation",rel:[m,n,o],target:p},children:[{type:a,value:"Context Isolation"}]},{type:a,value:" to shield the renderer from NodeJS APIs. Moreover, some believe that the NPM ecosystem is less secure than other counterparts."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"With them in mind, let’s see how the other approaches compare with Electron."}]},{type:a,value:f},{type:b,tag:aa,props:{id:cr},children:[{type:b,tag:k,props:{href:"#cross-platform-core-native-ui",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:cs}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Often considered as the gold-standard of cross-platform development, this approach consists in extracting the application’s business logic in a library (usually written in low level and cross-platform languages such as C++ or Rust), and then write a separate GUI for each platform, leveraging on the native frameworks. The resulting applications are fast, light-weight, and have an authentic look and feel."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If the results are so good, why doesn’t everyone follow this approach? Well, turns out this approach is very expensive from a development perspective. Not only you have to implement N different UIs (which is already not trivial, as you have to learn 3 different native frameworks, along with their quirks), but the interoperability between these low-level languages and the UI one is not exactly enjoyable. In a nutshell:"}]},{type:a,value:f},{type:b,tag:aj,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"Every feature that has an impact on the GUI, will take N times as much to implement"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"Interoperability with the low-level library is not always convenient, especially when you start dealing with strings or dynamically allocated memory. Who frees that memory? That’s a question you’ll ask yourself a lot. Moreover, the answer depends on the current platform, as some use garbage collection, some reference counting, and some manual management."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"So… should we discard this option? No, not always. If most of your application’s complexity is related to the business logic and the UI is simple, this approach might be absolutely feasible (and arguably, even preferred). An example I came across is Backblaze’s client UI, which according to "},{type:b,tag:k,props:{href:"https:\u002F\u002Fwww.backblaze.com\u002Fblog\u002F10-rules-for-how-to-write-cross-platform-code\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"this old article"}]},{type:a,value:", uses this approach. This makes perfect sense, as the UI itself is rather simple, only composed of a few buttons and labels."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"On the other hand, if the UI is substantially complex or contains custom components, choosing Electron is generally a good choice. Some will surely argue that you don’t “need” custom components, but what about code editors then? Do you think something as complex and flexible as VSCode would have been feasible with native controls? I honestly don’t think so."}]},{type:a,value:f},{type:b,tag:aa,props:{id:ct},children:[{type:b,tag:k,props:{href:"#bonus",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:cu}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Starting from the same premise, an intermediate approach I personally like is wxWidgets, a mature library that enables developers to create cross-platform apps from a single C++ codebase. What I particularly like about wxWidgets is that it uses native widgets as much as possible. For "},{type:b,tag:ak,props:{},children:[{type:a,value:"simple"}]},{type:a,value:" UIs, the resulting apps are fast, lightweight, and look great."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"This is the approach I personally used for "},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fmodulo",rel:[m,n,o],target:p},children:[{type:a,value:"modulo"}]},{type:a,value:", a lightweight graphical extension for "},{type:b,tag:k,props:{href:"https:\u002F\u002Fespanso.org\u002F",rel:[m,n,o],target:p},children:[{type:a,value:cD}]},{type:a,value:", for which I implemented the business logic in Rust and the UI code in C++."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:au,props:{alt:"An example of wxWidgets interfaces in modulo",src:"\u002Fposts\u002Fmodulo.png"},children:[]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Again, I would only consider this approach for simple UIs, as there is a substantial development overhead. Moreover, as the UI gets more complex, the resulting apps start to look increasingly “off” compared to native ones."}]},{type:a,value:f},{type:b,tag:aa,props:{id:cv},children:[{type:b,tag:k,props:{href:"#qt",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:cw}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"“Just use QT, it’s much better than Electron!”"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If you browse discussions about newly-released Electron apps, that comment is guaranteed to be present. In a nutshell, QT is a cross-platform app development framework that was particularly popular a few years ago. With QT, you can support the 3 major platforms from a single C++ codebase, or if you don’t like the language, there is a strong possibility some bindings might exist for your favorite one (notably Python)."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Apps made with QT are usually less resource hungry and faster (when using C++), but how much?"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Taking as a reference my favorite QT-application, Telegram Desktop, we can see that:"}]},{type:a,value:f},{type:b,tag:aj,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"It uses 130 MB of RAM"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"It occupies 70.8 MB of storage"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"For reference, these are the values from a comparable Electron application, Whatsapp Desktop:"}]},{type:a,value:f},{type:b,tag:aj,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"254 MB of RAM"}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"450 MB of storage (this is a lot, I know, but this is WhatsApp's fault rather than Electron’s. Many Electron apps I use daily, such as Bitwarden and Obsidian, use ~170 MB)"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"As you can see, the QT counterpart is usually consuming roughly half the resources. But is it worth it?"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"In a system with 8 GB of RAM, which is pretty common today, 250 MB of RAM represents roughly ~3% of the total. For short-running applications, arguably that number is pretty much insignificant. Of course, not everybody will agree on this point."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"At the same time, choosing QT means accepting some less-than-ideal compromises, with the first and foremost being the license. QT is dual-licensed: you can either choose the open-source license or the commercial one (spoiler alert, be prepared to spend thousands of dollars on this one). If you are creating an open-source project, then you are in luck, QT is free to use as long as you release your code as GPL (although recently with some "},{type:b,tag:k,props:{href:"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=22821050",rel:[m,n,o],target:p},children:[{type:a,value:"controversies"}]},{type:a,value:"). But what if you are a small software company looking to release commercial software? There might be a chance to dynamically link the LGPL version and avoid paying for the complete license, but that’s not always possible. I’m sure some people will disagree, but I think QT is a viable option only for open-source projects or large enterprises, everything in-between won’t be financially sustainable."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Moreover, although QT tries to resemble the platform’s look and feel, you can definitely tell something is wrong. Just check the "},{type:b,tag:k,props:{href:"https:\u002F\u002Fsqlitebrowser.org\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"DB Browser for SQLite"}]},{type:a,value:" macOS version (which I think is a great piece of software, I’m only pointing out how the “look and feel” is definitely off)."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Keeping in mind that a well-written Electron application will use twice the resources of the equivalent QT counterpart, is it really worth it? Only you can answer this question, but I honestly don’t think the gains (or better, the resource savings) are significant enough to ditch Electron."}]},{type:a,value:f},{type:b,tag:aa,props:{id:cx},children:[{type:b,tag:k,props:{href:"#localhost-server",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:cy}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"For long-running processes, another common approach is to provide a web GUI in the user’s browser connected to a localhost-only HTTP server. This solution, currently used by "},{type:b,tag:k,props:{href:"https:\u002F\u002Fsyncthing.net\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"Syncthing"}]},{type:a,value:aw},{type:b,tag:k,props:{href:"https:\u002F\u002Fjupyter.org\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"Jupyter Notebook"}]},{type:a,value:" to name a few, shares many of Electron’s advantages regarding rich user interfaces, while being significantly light-weight (no need to bundle an entire Chromium runtime). That said, there are two major downsides:"}]},{type:a,value:f},{type:b,tag:aj,props:{},children:[{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"Less-than-ideal integration with the OS, as the GUI will appear as a website rather than an application. This also means no menu bar, for example."}]},{type:a,value:f},{type:b,tag:K,props:{},children:[{type:a,value:"No control over the user’s browser, which means having to support widely different rendering behaviors. To be fair, as long as you are not committed to supporting IE or you need some fancy new features, this problem is becoming less and less relevant."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Although I consider this approach viable in a number of use-cases, I’m far from considering it the optimal one. I know this is highly subjective, but I really appreciate having a separate window for each application, along with good OS integrations such as native menu bars and dialogs."}]},{type:a,value:f},{type:b,tag:aa,props:{id:cz},children:[{type:b,tag:k,props:{href:"#embedding-the-systems-webview",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:cA}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"One of the usual complaints against Electron is that every application ships with a separate Chromium runtime, wasting ~100\u002F200 MB of storage per app. A natural question arises: "},{type:b,tag:ai,props:{},children:[{type:a,value:"why isn’t this runtime extracted into a single, system-wide module that is then shared between all applications (similar to the JVM)?"}]},{type:a,value:" Actually, I’m going to take it even further: "},{type:b,tag:ai,props:{},children:[{type:a,value:"given that most OSes ship with an embeddable webview component, why don’t we use it instead of a separate runtime?"}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"On paper, this approach sounds like the ideal solution: the resulting binary is very light-weight (few megabytes) and can still leverage web technologies to create rich and cross-platform user interfaces. Moreover, direct OS integration is also possible, as the resulting programs can access the native facilities (menu bars, dialogs, etc) from the “wrapper” code. Many projects are trying to overcome Electron’s drawbacks using this approach, such as "},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Fpojala\u002Felectrino",rel:[m,n,o],target:p},children:[{type:a,value:"Electrino"}]},{type:a,value:cE},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebview\u002Fwebview",rel:[m,n,o],target:p},children:[{type:a,value:"webview"}]},{type:a,value:cE},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Ftauri-apps\u002Ftauri",rel:[m,n,o],target:p},children:[{type:a,value:"Tauri"}]},{type:a,value:", and many more."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"For many months, I considered this approach superior to Electron, with development convenience being the only downside. You see, if you choose this approach, you will need to do a lot of “plumbing” yourself, as you don’t have access to any of the convenient APIs exposed by Electron. Do you want a menu bar? You have to write the low-level bindings yourself, often multiple times depending on the number of platforms you are looking to support."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"At that time, I wanted to create a GUI for "},{type:b,tag:k,props:{href:"https:\u002F\u002Fespanso.org",rel:[m,n,o],target:p},children:[{type:a,value:cD}]},{type:a,value:", and that seemed like the perfect opportunity to experiment with these technologies. I forked the original webview project (as I wanted to add a few features) and created a first, very alpha version for Windows:"}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:b,tag:au,props:{alt:"An example of Embeddable Webview GUI",src:"\u002Fposts\u002Fespanso-gui.png"},children:[]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"As expected, implementing the business logic was trickier than Electron, having to manually glue together a mix of C++, Rust and JavaScript, but the application was very lightweight, with a consumption of ~2 MB of storage and ~70 MB of RAM. Sounds like a success right? Well, turns out I overlooked a crucial aspect: compatibility."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Imagine building an application that relies on a complex library to perform the core-functionality. This library is not really compatible with all the platforms you are trying to support, so you choose some local ports of this library, which are all roughly compliant with a common specification. The “only” downside is that you cannot control the library version. Turns out there is a bug in the Windows port of the library, what do you do? Even if a fix is shipped in the next library version, you can’t control the version used by users. As you might have understood, this “complex library” is nothing more than the embedded webview."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Last year, the situation was even worse, as Windows supported only subpar webviews. Besides the IE-based one, which I would only recommend to your greatest enemies, Windows offered the old-Edge-based one, which was “kind of” decent, but definitely worse than the WebKit-based ones included in macOS and Linux. Luckily, with the new Chromium-based Edge browser, Windows will also ship with a modern, embeddable webview called "},{type:b,tag:k,props:{href:"https:\u002F\u002Fdeveloper.microsoft.com\u002Fen-us\u002Fmicrosoft-edge\u002Fwebview2\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"WebView2"}]},{type:a,value:L}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"As we previously said, depending on a component that you can’t control is risky, as the version is locked and so are its bugs. That’s also part of why companies like Slack moved away from this approach (more on this "},{type:b,tag:k,props:{href:"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=18761840",rel:[m,n,o],target:p},children:[{type:a,value:"here"}]},{type:a,value:")."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Should we always discard this approach? Definitely not. But I would personally consider it only when the complexity of the application is relatively low, especially when it comes to styling."}]},{type:a,value:f},{type:b,tag:aa,props:{id:cB},children:[{type:b,tag:k,props:{href:"#notable-mentions",ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:cC}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Another promising alternative is "},{type:b,tag:k,props:{href:"https:\u002F\u002Fsciter.com\u002F",rel:[m,n,o],target:p},children:[{type:a,value:"Sciter"}]},{type:a,value:", which makes it possible to create very lightweight and cross-platform applications using HTML\u002FCSS and any language that supports C bindings (most do). The biggest drawback is that the engine is not open-source, although it "},{type:b,tag:k,props:{href:"https:\u002F\u002Fwww.kickstarter.com\u002Fprojects\u002Fc-smile\u002Fopen-source-sciter-engine",rel:[m,n,o],target:p},children:[{type:a,value:"might become in the future"}]},{type:a,value:". Don’t get me wrong, I totally understand the author’s desire to offer a commercial license to fund its development, but I tend to prefer open-source alternatives when possible."}]},{type:a,value:f},{type:b,tag:aa,props:{id:ax},children:[{type:b,tag:k,props:{href:cn,ariaHidden:y,tabIndex:z},children:[{type:b,tag:c,props:{className:[A,B]},children:[]}]},{type:a,value:ay}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"The goal of this article wasn’t to prove how Electron is always the best choice (it isn’t), but rather, to provide a broad overview of the areas in which it is best suited. For example, you shouldn’t use it for applications with simple UIs, or if you don’t need to go cross-platform. In such cases, choosing the native frameworks will most likely be the best choice. That said, if you need to go cross-platform and your application is sufficiently complex, then Electron is really not bad at all compared to the alternatives, especially when done right. Of course, there are some very bloated Electron apps out there and I don’t like them either, but that’s mostly due to careless developers, not Electron."}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"Finally, keep in mind that without Electron some developers might not be able to manage the burden of cross-platform development, and thus, some great apps might not even exist. That’s why I consider it a "},{type:b,tag:ai,props:{},children:[{type:a,value:"necessary evil."}]}]},{type:a,value:f},{type:b,tag:j,props:{},children:[{type:a,value:"If you liked the article, follow me on "},{type:b,tag:k,props:{href:aQ,rel:[m,n,o],target:p},children:[{type:a,value:aR}]},{type:a,value:co},{type:b,tag:k,props:{href:aS,rel:[m,n,o],target:p},children:[{type:a,value:cp}]},{type:a,value:cq}]}]},excerpt:{type:ab,children:[{type:b,tag:j,props:{},children:[{type:a,value:aW}]}]},dir:aT,path:"\u002Farticles\u002F2021-01-21-why-electron-is-a-necessary-evil",extension:aU,createdAt:"2022-02-04T20:19:16.889Z",updatedAt:ao,cleanedSlug:"why-electron-is-a-necessary-evil"}]}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation","\n"," ",")","(","p","a","function","nofollow","noopener","noreferrer","_blank",";","keyword","\n    ","string","comment","macro","property","operator","true",-1,"icon","icon-link","{","}","class-name","println!",2,"h2","::",",","li",".","\n\n","\n        ","fn","function-definition","\n    \n    ","div","nuxt-content-highlight","pre","language-rust","line-numbers","code","=","main",":","number",3,"h3","root","namespace","=\u003E","\n            ","let","closure-punctuation","|","em","ul","strong","Cow","panic","\n  ","2022-02-04T20:19:16.893Z","use","name","\u003C","\u003E","\"{}\"","img","action"," and ","conclusion","Conclusion","post","Federico Terzi","https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso","Espanso","std","capitalize","&","str","-\u003E","unwrap","\u002F\u002F Output:","set_hook","new","closure-params","Use the ","2","constant","https:\u002F\u002Ftwitter.com\u002Fterzi_federico","Twitter","https:\u002F\u002Fwww.youtube.com\u002Fc\u002FFedericoTerzi","\u002Farticles",".md","This question comes up a lot lately, especially when considering if learning Rust is worth it or not, and so I thought it could be a wonderful opportunity to write a new article, discussing the differences between the two, as well as what they share in common.","Unless you’ve been living under a rock for the past 5 years, chances are you have used an Electron-based application at least once in your life. For those (probably few) who don’t know what Electron is, it’s a cross-platform desktop app framework built on top of Chromium and NodeJS (which in turn is based on Chrome’s V8 engine).","using-cowstr-as-return-type","Using Cow\u003Cstr\u003E as return type","crossbeam-channels-instead-of-the-standard-ones","Crossbeam channels instead of the standard ones","golang-like-defer-operator-with-scopeguard","Golang-like defer operator with Scopeguard","cargo-make-for-packaging","Cargo-make for packaging","customize-and-chain-panic-handlers","Customize and chain Panic handlers","use-rust-analyzer-on-vscode","Use Rust Analyzer on VSCode","use-impl-trait-when-working-with-closures","Use impl Trait when working with Closures","enable-clippy-on-save-for-vscode","Enable Clippy on Save for VSCode","use-thiserror-and-anyhow-for-idiomatic-error-handling","Use “thiserror” and “anyhow” for idiomatic error handling","using-dbg-macro-instead-of-println","Using dbg!() macro instead of println!()","include_str-and-include_bytes-macros","include_str!() and include_bytes!() macros","integrating-with-cc-code","Integrating with C\u002FC++ code","Rust is a great programming language: reliable, fast, enjoyable, but also rather complex. Over the past two years, I’ve been using it both professionally and on side projects (such as ",") and, over that time, I stumbled upon many useful patterns and crates that I wish I knew when I first started learning it.","chars","Some","first_char"," first_char","Borrowed","\n              ","  ","The ","Duration","unbounded","i32","\n\n    ","recv"," msg "," msg","scopeguard","attribute","attr-name","extern"," prev_hook ","take_hook","Box","move"," panic","\n        \n        ","prev_hook","    \n    ","A","FnOnce","\"setting up...\"","\"tearing down...\"","setup_teardown","dbg!","const","FILE_CONTENT","\"nativemodule\"","similarities","Similarities","memory-and-thread-safety","Memory and Thread safety","unsafe-rust","Unsafe Rust","package-management-and-ecosystem","Package management and ecosystem","macros","Macros","#conclusion"," or ","Youtube","!","cross-platform-core-native-ui","Cross-platform Core, Native UI","bonus","Bonus:","qt","QT","localhost-server","Localhost server","embedding-the-systems-webview","Embedding the system’s webview","notable-mentions","Notable mentions","espanso",", ")));