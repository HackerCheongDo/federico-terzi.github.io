__NUXT_JSONP__("/blog", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv,gw,gx){return {data:[{articles:[{slug:"2022-01-04-12-rust-tips-and-tricks-you-might-not-know-yet",description:"Rust is a great programming language: reliable, fast, enjoyable, but also rather complex. Over the past two years, I’ve been using it both professionally and on side projects (such as Espanso) and, over that time, I stumbled upon many useful patterns and crates that I wish I knew when I first started learning it.",layout:aj,title:"12 Rust Tips and Tricks you might not know yet",author:ak,date:"2022-01-04T00:00:00.000Z",categories:"rust tips tricks tip crates useful",toc:[{id:cf,depth:M,text:cg},{id:ch,depth:M,text:ci},{id:cj,depth:M,text:ck},{id:cl,depth:M,text:cm},{id:cn,depth:M,text:co},{id:cp,depth:M,text:cq},{id:cr,depth:M,text:cs},{id:ct,depth:M,text:cu},{id:cv,depth:M,text:cw},{id:cx,depth:M,text:cy},{id:cz,depth:M,text:cA},{id:cB,depth:M,text:cC}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:cD},{type:b,tag:i,props:{href:bj,rel:[n,o,p],target:q},children:[{type:a,value:aL}]},{type:a,value:cE}]},{type:a,value:f},{type:a,value:f},{type:b,tag:N,props:{id:cf},children:[{type:b,tag:i,props:{href:"#using-cowstr-as-return-type",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cg}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Sometimes you need to write methods that accept a string slice (&str) and conditionally return either a modified version of it or the original one. For these cases, you might use "},{type:b,tag:i,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fborrow\u002Fenum.Cow.html",rel:[n,o,p],target:q},children:[{type:a,value:"Cow\u003Cstr\u003E"}]},{type:a,value:", so that you only allocate new memory when necessary."}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bk}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:a,value:"borrow"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bl}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:am}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"match"}]},{type:a,value:" name"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:cF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"nth"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:cG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cI}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"is_uppercase"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aP}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F No allocation is necessary, as the string"}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F already starts with an uppercase char"}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:cK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:cG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aP}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F An allocation is necessary, as the old string"}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F does not start with an uppercase char"}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:" new_string"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:aG}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"to_uppercase"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"chain"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:cF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"skip"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:cM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"collect"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"\n            \n            "},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:"Owned"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"new_string"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:"None"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aP}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:cK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:cN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"   "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Allocation"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"John\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cO},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F No allocation"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:N,props:{id:ch},children:[{type:b,tag:i,props:{href:"#crossbeam-channels-instead-of-the-standard-ones",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ci}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:cP},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Fcrossbeam-rs\u002Fcrossbeam",rel:[n,o,p],target:q},children:[{type:a,value:"crossbeam crate"}]},{type:a,value:" offers a powerful alternative to standard channels with support for the Select operation, timeouts, and more. Similar to what you get out of the box in Golang and traditional Unix sockets."}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bk}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:"crossbeam_channel"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:"select"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:" unbounded"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bk}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:a,value:"time"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:cQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:" r1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:cS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cT}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"s2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:" r2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:cS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cT}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"\n    s1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"send"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:cU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:"select!"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"r1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bl}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aP}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"r1 \u003E {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:cX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"r2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bl}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aP}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"r2 \u003E {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:cX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"default"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:cQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"from_millis"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:"100"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aP}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"timed out\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:N,props:{id:cj},children:[{type:b,tag:i,props:{href:"#golang-like-defer-operator-with-scopeguard",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ck}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you are coming from Golang, you might miss the \"defer\" operator for certain use-cases (like freeing memory when working with raw pointers or closing a socket)."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In Rust (besides the RAII pattern), you can use the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fdocs.rs\u002Fscopeguard\u002Flatest\u002Fscopeguard\u002F",rel:[n,o,p],target:q},children:[{type:a,value:cY}]},{type:a,value:" crate to easily implement \"cleaup\" logic."}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,cZ,bn]},children:[{type:a,value:"#[macro_use(defer)]"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:c_}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"crate"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,"module-declaration",az]},children:[{type:a,value:cY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"start\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F This action will run at the end of the current scope"}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:"defer!"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:"\n           "},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"defer\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:"\n\n        "},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"scope end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bE}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F start"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F scope end"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F defer"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F end"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:N,props:{id:cl},children:[{type:b,tag:i,props:{href:"#cargo-make-for-packaging",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cm}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fcargo\u002Freference\u002Fbuild-scripts.html",rel:[n,o,p],target:q},children:[{type:a,value:"Build scripts"}]},{type:a,value:" are great for a lot of things, but usually not for packaging. My favorite solution for that is "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Fsagiegurari\u002Fcargo-make",rel:[n,o,p],target:q},children:[{type:a,value:"Cargo Make"}]},{type:a,value:" by "},{type:b,tag:i,props:{href:"https:\u002F\u002Fsagiegurari.github.io\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"sagiegurari"}]},{type:a,value:", a Rust-based task runner and build tool."}]},{type:a,value:f},{type:b,tag:N,props:{id:cn},children:[{type:b,tag:i,props:{href:"#customize-and-chain-panic-handlers",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:co}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fpanic\u002Ffn.set_hook.html",rel:[n,o,p],target:q},children:[{type:a,value:"Panic handlers (called hooks)"}]},{type:a,value:" can be overridden and chained, which becomes particularly useful when setting up custom error reporting and logging for your application."}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bk}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:bA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:bF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:" take_hook"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:c$},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:da}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:db}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dc}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bG]},children:[{type:b,tag:c,props:{className:[d,aR,e]},children:[{type:a,value:aS}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,aR,e]},children:[{type:a,value:aS}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"custom logging logic {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:df}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:c$},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:da}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:db}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dc}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bG]},children:[{type:b,tag:c,props:{className:[d,aR,e]},children:[{type:a,value:aS}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,aR,e]},children:[{type:a,value:aS}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"custom error reporting logic {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:df}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:"panic!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"test\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bE}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F custom error reporting logic panicked at 'test', src\u002Fmain.rs:20:5"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F custom logging logic panicked at 'test', src\u002Fmain.rs:20:5"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:N,props:{id:cp},children:[{type:b,tag:i,props:{href:"#use-rust-analyzer-on-vscode",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cq}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:cP},{type:b,tag:i,props:{href:"https:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=matklad.rust-analyzer",rel:[n,o,p],target:q},children:[{type:a,value:"Rust analyzer"}]},{type:a,value:" VSCode extension by "},{type:b,tag:i,props:{href:"https:\u002F\u002Fmatklad.github.io\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"matklad"}]},{type:a,value:" is significantly better than the “official” Rust one. Unfortunately, it’s still showing as a second result on the extensions marketplace, misguiding a lot of beginners."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Rust Analyzer extension",src:"\u002Fposts\u002Frustanalyzer.png"},children:[]}]},{type:a,value:f},{type:b,tag:N,props:{id:cr},children:[{type:b,tag:i,props:{href:"#use-impl-trait-when-working-with-closures",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cs}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Prefer impl Fn\u002FFnOnce\u002FFnMut to pass a closure to a function (called impl Trait) instead of a generic when possible to keep the signature clean. For non-trivial cases, you might need to box the closure with Box\u003CFn()\u003E, but keep in mind you’ll pay an additional overhead."}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Instead of this"}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:"setup_teardown_generic"}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:di}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:dj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:dk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Use this"}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"impl"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:di}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:dj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bo}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:dk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F As a note, this pattern is very useful inside tests"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F to create\u002Fdestroy resources."}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,bG]},children:[{type:b,tag:c,props:{className:[d,aR,e]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,aR,e]},children:[{type:a,value:aS}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"Action!\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bE}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F setting up..."}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Action!"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F tearing down..."}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:N,props:{id:ct},children:[{type:b,tag:i,props:{href:"#enable-clippy-on-save-for-vscode",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cu}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you’re using VSCode + Rust Analyzer, I highly suggest going into the settings \u003E Rust Analyzer \u003E Check On Save: Command and setting \"clippy\" as the new default instead of \"check\". Same UX, better warnings."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Enable Clippy on Save",src:"\u002Fposts\u002Fclippyonsave.png"},children:[]}]},{type:a,value:f},{type:b,tag:N,props:{id:cv},children:[{type:b,tag:i,props:{href:"#use-thiserror-and-anyhow-for-idiomatic-error-handling",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cw}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:bH},{type:b,tag:i,props:{href:"https:\u002F\u002Fdocs.rs\u002Fthiserror\u002Flatest\u002Fthiserror\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"thiserror"}]},{type:a,value:av},{type:b,tag:i,props:{href:"https:\u002F\u002Fcrates.io\u002Fcrates\u002Fanyhow",rel:[n,o,p],target:q},children:[{type:a,value:"anyhow"}]},{type:a,value:" crates for idiomatic error handling. You should use thiserror when the consumer needs to conditionally act based on the error, anyhow otherwise. A good guideline is “use thiserror for libraries and anyhow for applications”."}]},{type:a,value:f},{type:b,tag:N,props:{id:cx},children:[{type:b,tag:i,props:{href:"#using-dbg-macro-instead-of-println",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cy}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:bH},{type:b,tag:i,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstable\u002Fstd\u002Fmacro.dbg.html",rel:[n,o,p],target:q},children:[{type:a,value:"dbg!() macro"}]},{type:a,value:" instead of println!() when debugging. Less code, more useful information."}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:" var1 "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Output: 2"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:dm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"var1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"        "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Output: [src\u002Fmain.rs:5] var1 = 2"}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:dm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"var1 "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bp}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"    "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Output: [src\u002Fmain.rs:6] var1 * 2 = 4"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:N,props:{id:cz},children:[{type:b,tag:i,props:{href:"#include_str-and-include_bytes-macros",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cA}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:bH},{type:b,tag:i,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.include_str.html",rel:[n,o,p],target:q},children:[{type:a,value:"include_str!()"}]},{type:a,value:av},{type:b,tag:i,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.include_bytes.html",rel:[n,o,p],target:q},children:[{type:a,value:"include_bytes!()"}]},{type:a,value:" macros to read the content of a file at "},{type:b,tag:I,props:{},children:[{type:a,value:"compile time"}]},{type:a,value:" and store it inside a const. Useful to avoid messing with multiline string literals."}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Both of these files are read at *compile time*"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dn}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bI]},children:[{type:a,value:do0}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:"include_str!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\".\u002Fpath\u002Fto\u002Fthe\u002Ffile.txt\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dn}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bI]},children:[{type:a,value:"BINARY_FILE_CONTENT"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"u8"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:"include_bytes!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\".\u002Fpath\u002Fto\u002Fimage.png\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bI]},children:[{type:a,value:do0}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cO},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Output: file content as string"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:N,props:{id:cB},children:[{type:b,tag:i,props:{href:"#integrating-with-cc-code",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:cC}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you need to integrate C\u002FC++ code with Rust, the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fcrates.io\u002Fcrates\u002Fcc",rel:[n,o,p],target:q},children:[{type:a,value:"cc crate"}]},{type:a,value:" and the proper build script can get you pretty far. For example, I’ve used them to integrate wxWidgets, a popular C++ gui framework, with my project "},{type:b,tag:i,props:{href:bj,rel:[n,o,p],target:q},children:[{type:a,value:aL}]},{type:a,value:" (see the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\u002Fblob\u002Fmaster\u002Fespanso-modulo\u002Fbuild.rs",rel:[n,o,p],target:q},children:[{type:a,value:"build script"}]},{type:a,value:k}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Inside the build script (build.rs)"}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"cargo:rerun-if-changed=src\u002Fnative.c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"cargo:rerun-if-changed=src\u002Fnative.h\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:"cc"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:"Build"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"include"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"src\u002Fnative.h\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"file"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"src\u002Fnative.c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"compile"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:dp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"cargo:rustc-link-lib=static=nativemodule\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Then, in another Rust file (for example, ffi.rs)"}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,cZ,bn]},children:[{type:a,value:"#[link(name = "},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:dp}]},{type:a,value:", kind = "},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"static\""}]},{type:a,value:")]"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:c_}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"C\""}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"pub"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:"your_cool_c_module"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Thanks for reading! If you like these topics, make sure to follow me on "},{type:b,tag:i,props:{href:aU,rel:[n,o,p],target:q},children:[{type:a,value:aV}]},{type:a,value:av},{type:b,tag:i,props:{href:aH,rel:[n,o,p],target:q},children:[{type:a,value:"YouTube"}]},{type:a,value:" to stay updated with the latest articles and videos."}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:cD},{type:b,tag:i,props:{href:bj,rel:[n,o,p],target:q},children:[{type:a,value:aL}]},{type:a,value:cE}]}]},dir:ar,path:"\u002Farticles\u002F2022-01-04-12-rust-tips-and-tricks-you-might-not-know-yet",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"12-rust-tips-and-tricks-you-might-not-know-yet"},{slug:"2021-05-04-rust-vs-cpp-which-is-better-and-why",description:bJ,layout:aj,title:"Rust vs C++, which is better and why?",author:ak,date:"2021-05-04T00:00:00.000Z",categories:"rust cpp c comparison between difference similarity pro cons advantages",toc:[{id:dq,depth:M,text:dr},{id:ds,depth:M,text:dt},{id:du,depth:M,text:dv},{id:dw,depth:M,text:dx},{id:dy,depth:M,text:dz},{id:ae,depth:M,text:af}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:bJ}]},{type:a,value:f},{type:a,value:f},{type:b,tag:N,props:{id:dq},children:[{type:b,tag:i,props:{href:"#similarities",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dr}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Both Rust and C++ are system programming languages, which means they can be used to write low-level code like kernels and firmware for microcontrollers. But compared with C, they offer a lot of abstractions that make it possible to go high-level as well, for example, writing games and web applications."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Another similarity is that neither of them uses a garbage collector to manage memory, which makes the code much more predictable, efficient, and in many cases faster. Of course, if you ever used C, you will know that managing memory yourself is hard. Besides the cognitive overhead, you are also running the risk of causing segmentation faults and undefined behaviors."}]},{type:a,value:f},{type:b,tag:N,props:{id:ds},children:[{type:b,tag:i,props:{href:"#memory-and-thread-safety",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dt}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"For this reason, modern C++ introduced concepts like smart pointers as a way to mitigate those memory-related bugs, but despite the significant improvements, they are limited in the number of guarantees they can offer. Rust takes it a step further and introduces the borrow checker, a component bundled within the compiler itself that makes sure that a reference does not outlive the data they refer to, preventing entire classes of memory unsafety bugs."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Another big selling point for Rust is its rich type system, which makes it possible to prevent data races at compile time. It does so by introducing two special traits, Sync and Send, which are used by the compiler to determine whether a multi-threaded operation is safe or not. And while sharing some memory between threads is possible in Rust, the compiler will stop you from building a program that does so unsafely, preventing data races even before the program starts. For example, if you want to mutate a variable from multiple threads, the compiler will require you to wrap it with a Mutex or something equivalent, because in general, mutating an unsynchronized variable from multiple threads is unsafe, unless a synchronization primitive or atomic operation is used."}]},{type:a,value:f},{type:b,tag:N,props:{id:du},children:[{type:b,tag:i,props:{href:"#unsafe-rust",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dv}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Up to this point, we discussed the features of the so-called “safe Rust”, which provides guarantees like memory safety and prevents undefined behavior, but there is also another “version” of the language known as unsafe Rust, which basically gives you superpowers at the price of losing all those safety guarantees."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Are you wondering why this is needed? Well, there are mainly two reasons: if you want to interact with the low-level aspects of the operating system or hardware, those operations are inherently unsafe, so the “safe Rust” compiler, which is the one that tries to give you guarantees, is not able to do so. Therefore, if you still want to execute them, you have to explicitly tell the compiler to trust you and give up those safety guarantees, entering the “unsafe” side of Rust."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The other reason is that when analyzing the code, the compiler is very conservative. From a guarantees point of view, it’s much better to block a valid program than to make an incorrect one pass the compilation step. Thus, there are times in which we might want to bypass those checks, and in order to do so, we need to enter the “unsafe” side as well."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In a way, unsafe Rust and C++ are very similar. The main difference is that Rust programmers usually avoid the “unsafe” side as much as possible unless interfacing with the low-level aspects of the operating systems or when absolutely certain that an operation is correct, and this greatly reduces the surface for memory problems."}]},{type:a,value:f},{type:b,tag:N,props:{id:dw},children:[{type:b,tag:i,props:{href:"#package-management-and-ecosystem",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dx}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"An area in which Rust is arguably better than C++ is package management. If you have ever worked with Python or JavaScript you will feel right at home with cargo, the official Rust package manager. Installing a package is just a matter of adding a line into cargo.toml file, whereas in C++ using an external library can be a huge pain, especially if targeting multiple operating systems. There have been some attempts to bring modern package management to C++, such as Conan and vcpkg, but they are far from being standardized or easy to use as cargo."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"With that being said, the C++ ecosystem is huge, much bigger than the Rust counterpart, as the former has been around for multiple decades. In other words, there are many more libraries for C++ than for Rust, with the latter sometimes lacking a suitable one."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The good news is that Rust has a very good Foreign Function Interface, which means you can interface with C code very easily from Rust, and thus, also interface with C++ libraries by exposing a C API from them. Unfortunately, this is not always possible, especially in complex cases, but there are some ongoing attempts to make creating bindings easier. An example is the autocxx library, which is being developed by the Google Chrome team to investigate whether parts of the browser could be developed using Rust in the future."}]},{type:a,value:f},{type:b,tag:N,props:{id:dy},children:[{type:b,tag:i,props:{href:"#macros",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dz}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Another interesting difference between the two languages is the macro system, which in Rust is much more powerful and safer. First of all, Rust ships with two kinds of macros: declarative and procedural. The former type is similar to the traditional C\u002FC++ macros, with the difference that macros are "},{type:b,tag:I,props:{},children:[{type:a,value:"hygenic"}]},{type:a,value:", meaning that they cannot interfere with variables outside their scope and therefore don’t cause any unwanted side effects. On the other hand, procedural macros are completely different, much more powerful and also complex. They can be basically thought of as compiler plugins that receive the program syntax tree as input, manipulate it, and then return the enriched syntax tree as output. This makes it possible to create annotations, similarly to Java, that enrich the code at compile time."}]},{type:a,value:f},{type:b,tag:N,props:{id:ae},children:[{type:b,tag:i,props:{href:aI,ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"To conclude, which of the two languages is better? As always, it depends! But these are the most important takeaways:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Rust is likely to be the future of system programming, and the proof is that many of the big players (Microsoft, Apple, Google) are moving in that direction, gradually integrating Rust with their products. Don’t get me wrong, C++ is far from being dead and is not going away anytime soon due to the incredibly vast amount of legacy code built with it, but an increasing number of companies are choosing Rust over C++ for new products."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"My theory is that in 10-years’ time, most C++ jobs will be focused on maintaining legacy software rather than creating new products. But of course, that’s only my opinion and I might be wrong :)"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you liked the article, you can follow me on "},{type:b,tag:i,props:{href:aU,rel:[n,o,p],target:q},children:[{type:a,value:aV}]},{type:a,value:aW},{type:b,tag:i,props:{href:aH,rel:[n,o,p],target:q},children:[{type:a,value:bq}]},{type:a,value:br}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:bJ}]}]},dir:ar,path:"\u002Farticles\u002F2021-05-04-rust-vs-cpp-which-is-better-and-why",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"rust-vs-cpp-which-is-better-and-why"},{slug:"2021-01-21-why-electron-is-a-necessary-evil",description:bK,layout:aj,title:"Why Electron is a Necessary Evil",author:ak,date:"2021-01-21T00:00:00.000Z",categories:"electron cross-platform cross platform desktop application app wxwidgets qt alternative localhost server sciter",toc:[{id:dA,depth:W,text:dB},{id:dC,depth:W,text:dD},{id:dE,depth:W,text:dF},{id:dG,depth:W,text:dH},{id:dI,depth:W,text:dJ},{id:dK,depth:W,text:dL},{id:ae,depth:W,text:af}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:bK}]},{type:a,value:f},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This Chrome-ception allows developers to build complete desktop applications using web technologies, including HTML, CSS, JS, and the ~500 MB of node_modules we all know and love."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Jokes aside, Electron offers several benefits that made it the preferred choice for most desktop applications developed today, including:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Truly free and open source"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Code once, deploy on Windows, macOS, and Linux"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Unlimited flexibility when it comes to rich user interfaces"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Vast adoption"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"That said, Electron often receives a great deal of criticism, especially among developers. Having worked on desktop development myself for a couple of years both professionally and for fun, I enjoy reading discussions about this topic and trying out different approaches. Over time, I developed the idea that Electron is a necessary evil, something that is (surprisingly) superior to the alternatives for many use-cases."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This article is all about discussing the different approaches you can use to create cross-platform applications, along with their pros and cons. Ultimately, you will have a basic understanding of the different alternatives and their ideal use-cases. Perhaps, in the end, you will agree with me: Electron is not that bad."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Before jumping to the various alternatives, we first need to define the main Electron’s downsides people usually complain about:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"High RAM consumption"}]},{type:a,value:": Electron apps tend to use a minimum of 80 MB of RAM, with lightweight apps in the 130-250 MB range and monsters like Slack sometimes reaching multi-GB values."}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"Large storage footprint"}]},{type:a,value:": Shipping with a full Chromium runtime, you can expect most Electron apps to consume "},{type:b,tag:I,props:{},children:[{type:a,value:"at least"}]},{type:a,value:" 150 MB of storage."}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"Slow"}]},{type:a,value:": Some Electron apps are definitely slow, but that can depend on many factors. Overuse of animations, for example, can substantially increase the CPU usage and thus make the app feel slower. Did you notice that most desktop apps that feel snappy don’t include any animation? Just because you can with Electron, doesn’t mean you should."}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"Lack of native UI\u002FUX"}]},{type:a,value:": Electron renders webpages and not native controls. On one hand, that gives complete freedom to designers, but on the other, the app looks different from the “native” ones. Unsurprisingly, this complaint usually comes from macOS users, where a single “native” framework exists: Cocoa. Due to the fragmentation of GUI frameworks on other platforms (especially Windows), non-macOS users are usually more tolerant of apps not sharing the same look and feel."}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"Worse security"}]},{type:a,value:": Compared to the average website running on your web browser, Electron apps are incredibly more powerful (and dangerous) thanks to the NodeJS integration. If not properly configured, web pages running inside Electron can gain access to the entire system, which is particularly dangerous when displaying third-party websites. Luckily, it doesn’t have to be that way, as Electron provides "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.electronjs.org\u002Fdocs\u002Ftutorial\u002Fcontext-isolation",rel:[n,o,p],target:q},children:[{type:a,value:"Context Isolation"}]},{type:a,value:" to shield the renderer from NodeJS APIs. Moreover, some believe that the NPM ecosystem is less secure than other counterparts."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"With them in mind, let’s see how the other approaches compare with Electron."}]},{type:a,value:f},{type:b,tag:X,props:{id:dA},children:[{type:b,tag:i,props:{href:"#cross-platform-core-native-ui",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dB}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Often considered as the gold-standard of cross-platform development, this approach consists in extracting the application’s business logic in a library (usually written in low level and cross-platform languages such as C++ or Rust), and then write a separate GUI for each platform, leveraging on the native frameworks. The resulting applications are fast, light-weight, and have an authentic look and feel."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If the results are so good, why doesn’t everyone follow this approach? Well, turns out this approach is very expensive from a development perspective. Not only you have to implement N different UIs (which is already not trivial, as you have to learn 3 different native frameworks, along with their quirks), but the interoperability between these low-level languages and the UI one is not exactly enjoyable. In a nutshell:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Every feature that has an impact on the GUI, will take N times as much to implement"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Interoperability with the low-level library is not always convenient, especially when you start dealing with strings or dynamically allocated memory. Who frees that memory? That’s a question you’ll ask yourself a lot. Moreover, the answer depends on the current platform, as some use garbage collection, some reference counting, and some manual management."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"So… should we discard this option? No, not always. If most of your application’s complexity is related to the business logic and the UI is simple, this approach might be absolutely feasible (and arguably, even preferred). An example I came across is Backblaze’s client UI, which according to "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.backblaze.com\u002Fblog\u002F10-rules-for-how-to-write-cross-platform-code\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"this old article"}]},{type:a,value:", uses this approach. This makes perfect sense, as the UI itself is rather simple, only composed of a few buttons and labels."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"On the other hand, if the UI is substantially complex or contains custom components, choosing Electron is generally a good choice. Some will surely argue that you don’t “need” custom components, but what about code editors then? Do you think something as complex and flexible as VSCode would have been feasible with native controls? I honestly don’t think so."}]},{type:a,value:f},{type:b,tag:X,props:{id:dC},children:[{type:b,tag:i,props:{href:"#bonus",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dD}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Starting from the same premise, an intermediate approach I personally like is wxWidgets, a mature library that enables developers to create cross-platform apps from a single C++ codebase. What I particularly like about wxWidgets is that it uses native widgets as much as possible. For "},{type:b,tag:v,props:{},children:[{type:a,value:"simple"}]},{type:a,value:" UIs, the resulting apps are fast, lightweight, and look great."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This is the approach I personally used for "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fmodulo",rel:[n,o,p],target:q},children:[{type:a,value:"modulo"}]},{type:a,value:", a lightweight graphical extension for "},{type:b,tag:i,props:{href:dM,rel:[n,o,p],target:q},children:[{type:a,value:aB}]},{type:a,value:", for which I implemented the business logic in Rust and the UI code in C++."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"An example of wxWidgets interfaces in modulo",src:"\u002Fposts\u002Fmodulo.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Again, I would only consider this approach for simple UIs, as there is a substantial development overhead. Moreover, as the UI gets more complex, the resulting apps start to look increasingly “off” compared to native ones."}]},{type:a,value:f},{type:b,tag:X,props:{id:dE},children:[{type:b,tag:i,props:{href:"#qt",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dF}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"“Just use QT, it’s much better than Electron!”"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you browse discussions about newly-released Electron apps, that comment is guaranteed to be present. In a nutshell, QT is a cross-platform app development framework that was particularly popular a few years ago. With QT, you can support the 3 major platforms from a single C++ codebase, or if you don’t like the language, there is a strong possibility some bindings might exist for your favorite one (notably Python)."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Apps made with QT are usually less resource hungry and faster (when using C++), but how much?"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Taking as a reference my favorite QT-application, Telegram Desktop, we can see that:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"It uses 130 MB of RAM"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"It occupies 70.8 MB of storage"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"For reference, these are the values from a comparable Electron application, Whatsapp Desktop:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"254 MB of RAM"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"450 MB of storage (this is a lot, I know, but this is WhatsApp's fault rather than Electron’s. Many Electron apps I use daily, such as Bitwarden and Obsidian, use ~170 MB)"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As you can see, the QT counterpart is usually consuming roughly half the resources. But is it worth it?"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In a system with 8 GB of RAM, which is pretty common today, 250 MB of RAM represents roughly ~3% of the total. For short-running applications, arguably that number is pretty much insignificant. Of course, not everybody will agree on this point."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"At the same time, choosing QT means accepting some less-than-ideal compromises, with the first and foremost being the license. QT is dual-licensed: you can either choose the open-source license or the commercial one (spoiler alert, be prepared to spend thousands of dollars on this one). If you are creating an open-source project, then you are in luck, QT is free to use as long as you release your code as GPL (although recently with some "},{type:b,tag:i,props:{href:"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=22821050",rel:[n,o,p],target:q},children:[{type:a,value:"controversies"}]},{type:a,value:"). But what if you are a small software company looking to release commercial software? There might be a chance to dynamically link the LGPL version and avoid paying for the complete license, but that’s not always possible. I’m sure some people will disagree, but I think QT is a viable option only for open-source projects or large enterprises, everything in-between won’t be financially sustainable."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Moreover, although QT tries to resemble the platform’s look and feel, you can definitely tell something is wrong. Just check the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fsqlitebrowser.org\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"DB Browser for SQLite"}]},{type:a,value:" macOS version (which I think is a great piece of software, I’m only pointing out how the “look and feel” is definitely off)."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Keeping in mind that a well-written Electron application will use twice the resources of the equivalent QT counterpart, is it really worth it? Only you can answer this question, but I honestly don’t think the gains (or better, the resource savings) are significant enough to ditch Electron."}]},{type:a,value:f},{type:b,tag:X,props:{id:dG},children:[{type:b,tag:i,props:{href:"#localhost-server",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dH}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"For long-running processes, another common approach is to provide a web GUI in the user’s browser connected to a localhost-only HTTP server. This solution, currently used by "},{type:b,tag:i,props:{href:"https:\u002F\u002Fsyncthing.net\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"Syncthing"}]},{type:a,value:av},{type:b,tag:i,props:{href:"https:\u002F\u002Fjupyter.org\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"Jupyter Notebook"}]},{type:a,value:" to name a few, shares many of Electron’s advantages regarding rich user interfaces, while being significantly light-weight (no need to bundle an entire Chromium runtime). That said, there are two major downsides:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Less-than-ideal integration with the OS, as the GUI will appear as a website rather than an application. This also means no menu bar, for example."}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"No control over the user’s browser, which means having to support widely different rendering behaviors. To be fair, as long as you are not committed to supporting IE or you need some fancy new features, this problem is becoming less and less relevant."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Although I consider this approach viable in a number of use-cases, I’m far from considering it the optimal one. I know this is highly subjective, but I really appreciate having a separate window for each application, along with good OS integrations such as native menu bars and dialogs."}]},{type:a,value:f},{type:b,tag:X,props:{id:dI},children:[{type:b,tag:i,props:{href:"#embedding-the-systems-webview",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dJ}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"One of the usual complaints against Electron is that every application ships with a separate Chromium runtime, wasting ~100\u002F200 MB of storage per app. A natural question arises: "},{type:b,tag:I,props:{},children:[{type:a,value:"why isn’t this runtime extracted into a single, system-wide module that is then shared between all applications (similar to the JVM)?"}]},{type:a,value:" Actually, I’m going to take it even further: "},{type:b,tag:I,props:{},children:[{type:a,value:"given that most OSes ship with an embeddable webview component, why don’t we use it instead of a separate runtime?"}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"On paper, this approach sounds like the ideal solution: the resulting binary is very light-weight (few megabytes) and can still leverage web technologies to create rich and cross-platform user interfaces. Moreover, direct OS integration is also possible, as the resulting programs can access the native facilities (menu bars, dialogs, etc) from the “wrapper” code. Many projects are trying to overcome Electron’s drawbacks using this approach, such as "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Fpojala\u002Felectrino",rel:[n,o,p],target:q},children:[{type:a,value:"Electrino"}]},{type:a,value:dN},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebview\u002Fwebview",rel:[n,o,p],target:q},children:[{type:a,value:"webview"}]},{type:a,value:dN},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Ftauri-apps\u002Ftauri",rel:[n,o,p],target:q},children:[{type:a,value:"Tauri"}]},{type:a,value:", and many more."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"For many months, I considered this approach superior to Electron, with development convenience being the only downside. You see, if you choose this approach, you will need to do a lot of “plumbing” yourself, as you don’t have access to any of the convenient APIs exposed by Electron. Do you want a menu bar? You have to write the low-level bindings yourself, often multiple times depending on the number of platforms you are looking to support."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"At that time, I wanted to create a GUI for "},{type:b,tag:i,props:{href:bc,rel:[n,o,p],target:q},children:[{type:a,value:aB}]},{type:a,value:", and that seemed like the perfect opportunity to experiment with these technologies. I forked the original webview project (as I wanted to add a few features) and created a first, very alpha version for Windows:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"An example of Embeddable Webview GUI",src:"\u002Fposts\u002Fespanso-gui.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As expected, implementing the business logic was trickier than Electron, having to manually glue together a mix of C++, Rust and JavaScript, but the application was very lightweight, with a consumption of ~2 MB of storage and ~70 MB of RAM. Sounds like a success right? Well, turns out I overlooked a crucial aspect: compatibility."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Imagine building an application that relies on a complex library to perform the core-functionality. This library is not really compatible with all the platforms you are trying to support, so you choose some local ports of this library, which are all roughly compliant with a common specification. The “only” downside is that you cannot control the library version. Turns out there is a bug in the Windows port of the library, what do you do? Even if a fix is shipped in the next library version, you can’t control the version used by users. As you might have understood, this “complex library” is nothing more than the embedded webview."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Last year, the situation was even worse, as Windows supported only subpar webviews. Besides the IE-based one, which I would only recommend to your greatest enemies, Windows offered the old-Edge-based one, which was “kind of” decent, but definitely worse than the WebKit-based ones included in macOS and Linux. Luckily, with the new Chromium-based Edge browser, Windows will also ship with a modern, embeddable webview called "},{type:b,tag:i,props:{href:"https:\u002F\u002Fdeveloper.microsoft.com\u002Fen-us\u002Fmicrosoft-edge\u002Fwebview2\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"WebView2"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As we previously said, depending on a component that you can’t control is risky, as the version is locked and so are its bugs. That’s also part of why companies like Slack moved away from this approach (more on this "},{type:b,tag:i,props:{href:"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=18761840",rel:[n,o,p],target:q},children:[{type:a,value:"here"}]},{type:a,value:")."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Should we always discard this approach? Definitely not. But I would personally consider it only when the complexity of the application is relatively low, especially when it comes to styling."}]},{type:a,value:f},{type:b,tag:X,props:{id:dK},children:[{type:b,tag:i,props:{href:"#notable-mentions",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dL}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Another promising alternative is "},{type:b,tag:i,props:{href:"https:\u002F\u002Fsciter.com\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"Sciter"}]},{type:a,value:", which makes it possible to create very lightweight and cross-platform applications using HTML\u002FCSS and any language that supports C bindings (most do). The biggest drawback is that the engine is not open-source, although it "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.kickstarter.com\u002Fprojects\u002Fc-smile\u002Fopen-source-sciter-engine",rel:[n,o,p],target:q},children:[{type:a,value:"might become in the future"}]},{type:a,value:". Don’t get me wrong, I totally understand the author’s desire to offer a commercial license to fund its development, but I tend to prefer open-source alternatives when possible."}]},{type:a,value:f},{type:b,tag:X,props:{id:ae},children:[{type:b,tag:i,props:{href:aI,ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The goal of this article wasn’t to prove how Electron is always the best choice (it isn’t), but rather, to provide a broad overview of the areas in which it is best suited. For example, you shouldn’t use it for applications with simple UIs, or if you don’t need to go cross-platform. In such cases, choosing the native frameworks will most likely be the best choice. That said, if you need to go cross-platform and your application is sufficiently complex, then Electron is really not bad at all compared to the alternatives, especially when done right. Of course, there are some very bloated Electron apps out there and I don’t like them either, but that’s mostly due to careless developers, not Electron."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Finally, keep in mind that without Electron some developers might not be able to manage the burden of cross-platform development, and thus, some great apps might not even exist. That’s why I consider it a "},{type:b,tag:I,props:{},children:[{type:a,value:"necessary evil."}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:dO},{type:b,tag:i,props:{href:aU,rel:[n,o,p],target:q},children:[{type:a,value:aV}]},{type:a,value:aW},{type:b,tag:i,props:{href:aH,rel:[n,o,p],target:q},children:[{type:a,value:bq}]},{type:a,value:br}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:bK}]}]},dir:ar,path:"\u002Farticles\u002F2021-01-21-why-electron-is-a-necessary-evil",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"why-electron-is-a-necessary-evil"},{slug:"2021-01-01-understanding-strings-in-rust",description:"When I started learning Rust a couple of years ago, the first thing that really got me thinking was strings. You see, in Rust, there are 2 string types: the String and the &str types.",layout:aj,title:"Understanding Strings in Rust",author:ak,date:"2021-01-01T00:00:00.000Z",categories:"strings str rust tutorial guide understand understanding ownership",toc:[{id:dP,depth:M,text:bd},{id:dQ,depth:W,text:dR},{id:dS,depth:W,text:dT},{id:ae,depth:W,text:af}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:dU},{type:b,tag:j,props:{},children:[{type:a,value:aG}]},{type:a,value:dV},{type:b,tag:j,props:{},children:[{type:a,value:aX}]},{type:a,value:dW}]},{type:a,value:f},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As you go on with examples and tutorials, you see that both of them are thoroughly used, so my natural question was: when should I use one over the other?"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In this article, we are going to explore the differences between the two, but first, we will need to discuss the way strings are kept in memory."}]},{type:a,value:f},{type:b,tag:N,props:{id:dP},children:[{type:b,tag:i,props:{href:"#memory-model",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:bd}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Let's first start with a basic example (don’t pay attention to the language itself, the following considerations apply to Python, Go, Java, and many others). We want to create a string surrounded by spaces, such as:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:a,value:dX},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:dY}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"From a memory standpoint, the situation is characterized by 2 memory entities:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"A memory region in the heap containing the actual string content"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"A string record on the stack containing the memory location of the first element in the heap (and generally, its length)"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:bd,src:"\u002Fposts\u002Fstring1.JPEG"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Looking at our example, we can say that "},{type:b,tag:j,props:{},children:[{type:a,value:"s"}]},{type:a,value:" does not contain the actual string content, but instead, it is simply a reference to the memory region containing the content."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This is in contrast with the other basic data types such as integers, for which their value is usually stored on the stack, due to their fixed size."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Let's say that we want to apply the "},{type:b,tag:j,props:{},children:[{type:a,value:dZ}]},{type:a,value:" operation to the string (or "},{type:b,tag:j,props:{},children:[{type:a,value:"strip()"}]},{type:a,value:" in Python) to obtain its content, but without the surrounding spaces. We could do:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:a,value:dX},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:dY}]},{type:a,value:"\nvar t "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:" s"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:dZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In this case, the variable "},{type:b,tag:j,props:{},children:[{type:a,value:"t"}]},{type:a,value:" will hold the value "},{type:b,tag:j,props:{},children:[{type:a,value:bL}]},{type:a,value:", without any surrounding space."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In most garbage collected languages that operation causes a separate string being created, so you end-up with two memory blocks on the heap:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:bd,src:"\u002Fposts\u002Fstring2.JPEG"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This is where Rust magic happens. If we assume that neither "},{type:b,tag:j,props:{},children:[{type:a,value:"T"}]},{type:a,value:" nor "},{type:b,tag:j,props:{},children:[{type:a,value:d_}]},{type:a,value:" will be modified (they are immutable), we can optimize the previous operation by simply creating another string record having the start index at the second cell of "},{type:b,tag:j,props:{},children:[{type:a,value:d_}]},{type:a,value:" and having a length of 5 instead of 7."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:bd,src:"\u002Fposts\u002Fstring3.JPEG"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"From the user perspective, T will be a string with length 5 and with content \"hello\",  but no additional allocation will be necessary, greatly improving memory efficiency."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In Rust, what we called \"string record\" is referred to as "},{type:b,tag:j,props:{},children:[{type:a,value:aX}]},{type:a,value:" type, and represents a reference to a contiguous char array, along with its length. Technically, this is called a reference to a string slice."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Of course, this technique cannot be applied to every situation. For example, if we call the "},{type:b,tag:j,props:{},children:[{type:a,value:"to_uppercase()"}]},{type:a,value:" method, the resulting string will not be a different view of the same string, but instead, it will be an entirely different one. In this case, an additional allocation will be needed."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The powerful aspect of &str types is that the location of the string content can vary based on the situation. It can reference a memory region on the heap, a location on the stack, or even a static portion of the executable itself."}]},{type:a,value:f},{type:b,tag:X,props:{id:dQ},children:[{type:b,tag:i,props:{href:"#string-literals",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dR}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"One thing that often confuses beginners are string literals. In particular, when you write the following code in Rust:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:" str1 "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bL}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"you are not allocating a string in the heap. Instead,  you're creating an immutable string literal, whose content is stored inside the binary itself. This is possible because its content is known at compile-time, which, on the other hand, is not the case with the following:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:" i "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:cU}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:" str2 "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:" i"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:d$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In this case, the string content is not known at compile-time, so it causes an allocation on the heap, creating the string “10”."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If we now analyze the type of the two previous variables, we notice that "},{type:b,tag:j,props:{},children:[{type:a,value:"str1"}]},{type:a,value:ea},{type:b,tag:j,props:{},children:[{type:a,value:aX}]},{type:a,value:av},{type:b,tag:j,props:{},children:[{type:a,value:"str2"}]},{type:a,value:ea},{type:b,tag:j,props:{},children:[{type:a,value:aG}]},{type:a,value:". This is because the first string does not allocate any memory on the heap, whereas the second one does. As a rule of thumb,  anytime you allocate new memory you will need to use the String type, whereas if you only need a different view of an existing string, the &str type will be more adequate."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Technically, the "},{type:b,tag:j,props:{},children:[{type:a,value:aG}]},{type:a,value:" type is an "},{type:b,tag:I,props:{},children:[{type:a,value:"owned"}]},{type:a,value:" type, whereas the "},{type:b,tag:j,props:{},children:[{type:a,value:aX}]},{type:a,value:" type is not. To really understand the difference between the two, you will need to grasp the concepts of ownership and borrowing. If you need some help, "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=N2SgcDO0QL4",rel:[n,o,p],target:q},children:[{type:a,value:"I made a video"}]},{type:a,value:" on the topic a few months ago."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In a nutshell, when you allocate some memory on the heap, there must be a way to free it when not used anymore, otherwise, you’ll produce a memory leak. In Java or Go, that’s the responsibility of the garbage collector, but in Rust, the ownership system takes care of freeing the memory once the owner goes out of scope."}]},{type:a,value:f},{type:b,tag:X,props:{id:dS},children:[{type:b,tag:i,props:{href:"#tips-for-beginners",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:dT}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Now that you know the basics, let me give you a couple of tips:"}]},{type:a,value:f},{type:b,tag:bs,props:{id:"convert-between-the-two"},children:[{type:b,tag:i,props:{href:"#convert-between-the-two",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"Convert between the two"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"You can easily convert between the two by using the "},{type:b,tag:j,props:{},children:[{type:a,value:"to_string()"}]},{type:a,value:" method and the borrow operator (&), such as:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Start from a string literal &str"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:" foo "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bL}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Convert to a owned String"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:" bar "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:" foo"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:d$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Get the string literal &str of bar"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:an}]},{type:a,value:" car "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aN}]},{type:a,value:"bar\n"}]}]}]},{type:a,value:f},{type:b,tag:bs,props:{id:"strings-in-function-signatures"},children:[{type:b,tag:i,props:{href:"#strings-in-function-signatures",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"Strings in function signatures"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"When you are designing function signatures, keep in mind that generally, strings are passed as "},{type:b,tag:j,props:{},children:[{type:a,value:aX}]},{type:a,value:" slices and returned as owned Strings, such as:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[ad,D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ah,s]},children:[{type:a,value:"concatenate_strings"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bl}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:aG}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ec}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,O,P]},children:[{type:a,value:"format!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"{}{}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:" s1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This prevents unnecessary copies when passing the parameters, but also guarantees that the output string will live long enough to be received by the calling code. Moreover, it allows the function to accept both string slices and owned Strings. Of course, there are many exceptions to this rule, but for most cases, and most importantly until you really understand ownership and borrowing, this approach will serve you well."}]},{type:a,value:f},{type:b,tag:X,props:{id:ae},children:[{type:b,tag:i,props:{href:aI,ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This was just a quick introduction to Rust strings, thank you for reading!"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:dO},{type:b,tag:i,props:{href:aH,rel:[n,o,p],target:q},children:[{type:a,value:bq}]},{type:a,value:aW},{type:b,tag:i,props:{href:aU,rel:[n,o,p],target:q},children:[{type:a,value:aV}]},{type:a,value:br}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:dU},{type:b,tag:j,props:{},children:[{type:a,value:aG}]},{type:a,value:dV},{type:b,tag:j,props:{},children:[{type:a,value:aX}]},{type:a,value:dW}]}]},dir:ar,path:"\u002Farticles\u002F2021-01-01-understanding-strings-in-rust",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"understanding-strings-in-rust"},{slug:"2020-05-29-regex101-the-ultimate-tool-for-regular-expressions",description:"If you've been programming for a while, you will surely know how useful regular expressions can be when dealing with text.\nYou may want to validate a string (such as checking whether an email field is valid) or extract some information from formatted text. In both cases, building the right regex can take many attempts.",layout:aj,title:"Regex101 - The Ultimate Tool for Regular Expressions",author:ak,date:"2020-05-29T00:00:00.000Z",categories:"regex tutorial visual debugger regex101 regular expression",toc:[{id:ed,depth:M,text:ee},{id:ef,depth:M,text:eg},{id:eh,depth:M,text:ei},{id:ej,depth:M,text:ek},{id:ae,depth:M,text:af}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:el},{type:b,tag:v,props:{},children:[{type:a,value:em}]},{type:a,value:en}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:eo}]},{type:a,value:f},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Today I'm going to introduce you to an incredibly useful tool called "},{type:b,tag:i,props:{href:ep,rel:[n,o,p],target:q},children:[{type:a,value:eq}]},{type:a,value:", which makes working with Regexes a breeze."}]},{type:a,value:f},{type:b,tag:N,props:{id:ed},children:[{type:b,tag:i,props:{href:"#validating-a-regex",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ee}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As an example, let's create a very simple regex to validate email addresses. Please note that this is only a toy example, as "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.regular-expressions.info\u002Femail.html",rel:[n,o,p],target:q},children:[{type:a,value:"validating email addresses is harder than it seems"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"We consider the following 5 input strings:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[Z,D]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"example@example.com\nexample.com\nexample@\njohn@company.net\ninfo@example\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As you can already tell, only the first and fourth addresses are correct.\nA first attempt would be using the "},{type:b,tag:j,props:{},children:[{type:a,value:"[a-zA-Z]+\\@[a-zA-Z]+\\.[a-z]+"}]},{type:a,value:" Regex (which doesn't account for many things, but for this example is enough)."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Open "},{type:b,tag:i,props:{href:ep,rel:[n,o,p],target:q},children:[{type:a,value:eq}]},{type:a,value:" and paste the input in the "},{type:b,tag:I,props:{},children:[{type:a,value:"TEST STRING"}]},{type:a,value:" field, then type the regex on the "},{type:b,tag:I,props:{},children:[{type:a,value:"REGULAR EXPRESSION"}]},{type:a,value:" field.\nAs a result, we will see:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Validation Regex",src:"\u002Fposts\u002Fvalidation-regex.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Regex101 highlighted the lines that matched our regex, which makes experimenting with it a breeze! That said, this is just the tip of the iceberg."}]},{type:a,value:f},{type:b,tag:N,props:{id:ef},children:[{type:b,tag:i,props:{href:"#extracting-data",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:eg}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Another common task involves extracting a substring (group) from a formatted text and this is one of the areas in which Regex101 shines."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Let's start from another example, a simple CSV formatted list of entries:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[Z,D]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"John;Snow;5\nEddard;Stark;3\nTyrion;Lannister;6\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"We now want to extract the name of each character,  and to do that we can use a simple regex:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[Z,D]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"^([a-zA-Z]+);\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Typing this regex on Regex101 along with the example produces the following result:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Extracting Data Regex 1",src:"\u002Fposts\u002Fextracting-data-regex1.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As you can see, the names are highlighted. But the most important thing can be found on the right side:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Extracting Data Regex 2",src:"\u002Fposts\u002Fextracting-data-regex2.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"All the group contents are extracted and displayed in a very convenient way, making working with them a piece of cake!"}]},{type:a,value:f},{type:b,tag:N,props:{id:eh},children:[{type:b,tag:i,props:{href:"#substitution",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ei}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"You may even want to take it a step further, extracting the content of a group and "},{type:b,tag:I,props:{},children:[{type:a,value:"replacing"}]},{type:a,value:" it with something else. With Regex101 you can indeed do that by opening the "},{type:b,tag:I,props:{},children:[{type:a,value:er}]},{type:a,value:" panel (on the bottom) and typing your replace string:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Replace Regex 1",src:"\u002Fposts\u002Freplace-regex-1.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Moreover, if you use the "},{type:b,tag:j,props:{},children:[{type:a,value:"\\1"}]},{type:a,value:" operators, we can also restructure the lines completely. Change the original regex as follows:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[Z,D]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"^([a-zA-Z]+);.*\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Then, in the "},{type:b,tag:j,props:{},children:[{type:a,value:er}]},{type:a,value:" field, type:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[Z,D]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"Hello $1\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The result is:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Substitution Regex 2",src:"\u002Fposts\u002Fsubstitution-regex-2.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"You have no idea how many times this feature saved my day (which by the way is also available in most advanced text editors, such as Sublime Text)."}]},{type:a,value:f},{type:b,tag:N,props:{id:ej},children:[{type:b,tag:i,props:{href:"#code-generation",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ek}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Another very useful feature is the automatic "},{type:b,tag:I,props:{},children:[{type:a,value:"code generation"}]},{type:a,value:", available for a ton of languages out of the box. By clicking on the "},{type:b,tag:j,props:{},children:[{type:a,value:"Code Generation"}]},{type:a,value:" tab, we can access a section that will generate the regex boilerplate for us, so that we can use it in our programs\u002Fscripts with minimal effort:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Code Generator",src:"\u002Fposts\u002Fcode-generator-regex.png"},children:[]}]},{type:a,value:f},{type:b,tag:N,props:{id:ae},children:[{type:b,tag:i,props:{href:aI,ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This was just a quick introduction to Regex101, thank you for reading through!"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you want to stay updated with those neat developer tricks and tools, follow me on "},{type:b,tag:i,props:{href:aH,rel:[n,o,p],target:q},children:[{type:a,value:bq}]},{type:a,value:aW},{type:b,tag:i,props:{href:aU,rel:[n,o,p],target:q},children:[{type:a,value:aV}]},{type:a,value:br}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:el},{type:b,tag:v,props:{},children:[{type:a,value:em}]},{type:a,value:en}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:eo}]}]},dir:ar,path:"\u002Farticles\u002F2020-05-29-regex101-the-ultimate-tool-for-regular-expressions",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"regex101-the-ultimate-tool-for-regular-expressions"},{slug:"2020-02-07-how-to-promote-open-source-project-on-github",description:"As a developer myself, I know how hard it can be to promote a project. You spent weeks, months, or even years, developing your idea, only to find out later that nobody is noticing it.\nTurns out that promotion, probably the least favourable thing for a programmer, is important as well.",layout:aj,title:"How to Promote Your Open Source Project",author:ak,date:"2020-02-07T00:00:00.000Z",categories:"github project promotion opensource how to tutorial",toc:[],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:es}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:et}]},{type:a,value:f},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In this article I’m going to summarize the things I learned with "},{type:b,tag:i,props:{href:bj,rel:[n,o,p],target:q},children:[{type:a,value:aB}]},{type:a,value:", my latest open-source project which, by the time I’m writing this article, reached more than 500 GitHub stars in about 4 months."}]},{type:a,value:f},{type:b,tag:aC,props:{id:"1-first-impressions-matter"},children:[{type:b,tag:i,props:{href:"#1-first-impressions-matter",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"#1: First impressions matter"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Later in the article we’ll talk about "},{type:b,tag:I,props:{},children:[{type:a,value:"how"}]},{type:a,value:" to actually reach people, but first, it’s crucial to setup a nice landing page. For the majority of projects, a nicely written Readme on GitHub will serve the purpose just fine. The important things to include are:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"A screenshot of the project, or even better, an animated GIF"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"A general description, explaining the project goal and the features"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"A getting started section, explaining the "},{type:b,tag:I,props:{},children:[{type:a,value:"minimum"}]},{type:a,value:" amount of steps required to use your project"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you want to take it a step further, building an actual website is a good idea. Nowadays, building project websites is pretty easy (as well as free), thanks to modern tools and services such as Jekyll and GitHub Pages. I personally took this approach with espanso by building the "},{type:b,tag:i,props:{href:dM,rel:[n,o,p],target:q},children:[{type:a,value:"website"}]},{type:a,value:", which has proven to be an effective way to attract users."}]},{type:a,value:f},{type:b,tag:aC,props:{id:"2-make-users-life-easy"},children:[{type:b,tag:i,props:{href:"#2-make-users-life-easy",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"#2: Make users’ life easy"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I’ll never stress this enough. How many times have you enountered a super interesting project and wanted to try it out, just to later find out that to run it you need a 3gb compiler as well as all the required libraries. This problem is especially painful in languages such as Java, Golang, C or Rust, in which the compilation process can be far from trivial."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"There are many possible solutions, ranging from the easy to the complex ones. If you are using a compiled language, the bare minimum I would recommend is creating prebuilt binaries for the OS you are targeting, so that users can try out your project without installing the whole build system."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"A more complex step could be integrating with package managers, so that the installation becomes just a couple of commands in the terminal. The situation here really depends on your target. For example, getting a package in PIP or Homebrew is super easy, whereas publishing on APT (the official Ubuntu\u002FDebian manager) is an enormous task."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Another important detail which is often overlooked is documentation. Unless your project is super trivial, you should write instructions on how to use\u002Fconfigure it, even just a section in the Readme. Ideally, users should never have to read the sources to understand the basic functionality, because most often than not, they won't even try and will leave the project instead."}]},{type:a,value:f},{type:b,tag:aC,props:{id:"3-reddit-is-your-friend-and-enemy"},children:[{type:b,tag:i,props:{href:"#3-reddit-is-your-friend-and-enemy",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"#3: Reddit is your friend and enemy"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"When it comes to promotion, social networks are usually the first place to go in order to reach potential users. Of course, every social network has its quirks, and some are more versed to software than others. From my experience, I can tell Reddit is the most powerful one, as well as the most dangerous. In particular, promotion there has to be done "},{type:b,tag:v,props:{},children:[{type:a,value:"very"}]},{type:a,value:" carefully, as a spammy behavior will trigger waves of haters against your project."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The easiest way to get some early feedback is to post your GitHub page on "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.reddit.com\u002Fr\u002Fcoolgithubprojects\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"r\u002Fcoolgithubprojects"}]},{type:a,value:av},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.reddit.com\u002Fr\u002Fopensource",rel:[n,o,p],target:q},children:[{type:a,value:"r\u002Fopensource"}]},{type:a,value:". Then things get a bit tricky, as posting on other subreddits would usually result in a ghost ban. To overcome this problem, the key is to provide value. Does your project solve some interesting technical challenges? If the answer is yes, it may be a good idea to write an "},{type:b,tag:v,props:{},children:[{type:a,value:"article"}]},{type:a,value:" and posting it on a related subreddit. Inside the article, you can "},{type:b,tag:v,props:{},children:[{type:a,value:"mention"}]},{type:a,value:" your project, so that new people get to know it, without looking spammy. For example, because I couldn’t find any resource about publishing a Rust project on Homebrew when working on espanso, I decided to "},{type:b,tag:i,props:{href:"https:\u002F\u002Ffedericoterzi.com\u002Fblog\u002Fhow-to-publish-your-rust-project-on-homebrew\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"write an article"}]},{type:a,value:" about the process and then I published it on "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.reddit.com\u002Fr\u002FRust",rel:[n,o,p],target:q},children:[{type:a,value:"r\u002Frust"}]},{type:a,value:". In this way, you are providing value to the user without being spammy."}]},{type:a,value:f},{type:b,tag:aC,props:{id:"4-other-sources"},children:[{type:b,tag:i,props:{href:"#4-other-sources",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"#4: Other sources"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Beside Reddit, there are other viable alternatives to promote a project. If you are lucky enough to get featured in the homepage of "},{type:b,tag:v,props:{},children:[{type:a,value:"Hackernews"}]},{type:a,value:", your GitHub page will generally experience a ton of traffic. Personally, I never had any success posting espanso there, getting almost no traction at all. That said, last weekend something pretty interesting happened: someone posted the espanso's GitHub page on HN and, for about a couple of hours, it remained in the front page. The results were astonishing: 200 stars and more than a thousand user visits."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Star history of the project",src:"\u002Fposts\u002Fstargazers.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Another powerful website is YouTube. In particular, getting featured in the right video can drive a significant amount of traffic to your project. The key here is to find YouTubers interested in the problems you are trying to solve, and ask them if they could be interested in covering your project. Most won't even respond, but with some luck you may get good results."}]},{type:a,value:f},{type:b,tag:aC,props:{id:"0-build-something-interestinguseful"},children:[{type:b,tag:i,props:{href:"#0-build-something-interestinguseful",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"#0: Build something interesting\u002Fuseful"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This may sound overly simplicistic, but it’s actually the most important concept. Perhaps  you have built something technically remarkable, but if it’s not interesting or useful to someone, then it’s unlikely to generate a following. Don’t get me wrong, it doesn’t have to target a wide audience, niche projects are fine. In fact, they are often more successful than general ones, solving the needs of a relatively small group of users."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I fell in this trap many times in my life, and in the beginning it’s easy to get hurt. After all, spending weeks in something that doesn’t generate any interest it’s pretty frustrating. In the end, the only reasonable thing to do is being realistic: it’s totally fine to build something just for yourself, but don’t expect a ton of users if you build the next todo app :)"}]},{type:a,value:f},{type:b,tag:aC,props:{id:"bonus-be-nice"},children:[{type:b,tag:i,props:{href:"#bonus-be-nice",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"#Bonus: Be nice"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Open Source is one of the greatest things happening in our planet, and we must preserve it. It's very important to remember that at the other side of the screen there are humans, with a busy life and emotions as everybody else. For this reason, when interacting with a user asking for help or a project maintainer, remember to be nice."}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:es}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:et}]}]},dir:ar,path:"\u002Farticles\u002F2020-02-07-how-to-promote-open-source-project-on-github",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"how-to-promote-open-source-project-on-github"},{slug:"2019-10-06-how-to-publish-your-rust-project-on-homebrew",description:"Last week I finally released the first version of espanso, a cross-platform, system-wide Text Expander written in Rust.",layout:aj,title:"How to Publish your Rust project on Homebrew",author:ak,date:"2019-10-06T00:00:00.000Z",categories:"rust homebrew macos publish project cli app github manager",toc:[{id:eu,depth:W,text:ev},{id:ew,depth:W,text:ex},{id:ey,depth:W,text:ez},{id:eA,depth:W,text:eB},{id:eC,depth:W,text:eD},{id:ae,depth:W,text:af}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:eE},{type:b,tag:i,props:{href:bc,rel:[n,o,p],target:q},children:[{type:a,value:aB}]},{type:a,value:eF},{type:b,tag:I,props:{},children:[{type:a,value:eG}]},{type:a,value:eH}]},{type:a,value:f},{type:a,value:f},{type:b,tag:bM,props:{},children:[{type:a,value:aq},{type:b,tag:Q,props:{src:"\u002Fassets\u002Fimages\u002Fespanso.gif"},children:[]},{type:a,value:aq},{type:b,tag:bN,props:{},children:[{type:a,value:"Example of espanso in action."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I've built many projects in my life, but this time I wanted to create something people would actually use. Therefore, one of the key aspects to consider was the installation process: "},{type:b,tag:v,props:{},children:[{type:a,value:"it has to be easy"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Being a cross-platform tool, I had to consider the best installation method for each platform and when it comes to "},{type:b,tag:v,props:{},children:[{type:a,value:"macOS"}]},{type:a,value:", the de-facto way to install a cli tool is by using "},{type:b,tag:i,props:{href:"https:\u002F\u002Fbrew.sh\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"Homebrew"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In this article I will show you the publishing process I used for my tool,  "},{type:b,tag:i,props:{href:bc,rel:[n,o,p],target:q},children:[{type:a,value:aB}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:X,props:{id:eu},children:[{type:b,tag:i,props:{href:"#preparing-the-binary",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ev}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In order to create an Homebrew package, you have to provide a "},{type:b,tag:v,props:{},children:[{type:a,value:"binary executable"}]},{type:a,value:". Luckly for us, Rust makes it super easy.  In your project directory, the following command will create an optimized, release-ready, version of your tool:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"cargo build --release\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"You will now have a binary executable in the "},{type:b,tag:j,props:{},children:[{type:a,value:"target\u002Frelease\u002F"}]},{type:a,value:" directory, in my case:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"target\u002Frelease\u002Fespanso\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Homebrew expects a "},{type:b,tag:v,props:{},children:[{type:a,value:"TAR archive"}]},{type:a,value:", and it's easy to create one using the commands:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"cd target\u002Frelease\ntar -czf espanso-mac.tar.gz espanso\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"At this point, you should have the "},{type:b,tag:j,props:{},children:[{type:a,value:bO}]},{type:a,value:" archive in your "},{type:b,tag:j,props:{},children:[{type:a,value:"target\u002Frelease"}]},{type:a,value:" directory."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"We will later need the "},{type:b,tag:v,props:{},children:[{type:a,value:"SHA256 hash"}]},{type:a,value:" of the archive, so let's calculate it using:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"shasum -a 256 espanso-mac.tar.gz\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:eI}]},{type:a,value:f},{type:b,tag:X,props:{id:ew},children:[{type:b,tag:i,props:{href:"#uploading-to-github-releases",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ex}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Homebrew requires a "},{type:b,tag:v,props:{},children:[{type:a,value:"URL to download your binary"}]},{type:a,value:". There are plenty of ways to host your executable, but for my project I used "},{type:b,tag:i,props:{href:"https:\u002F\u002Fhelp.github.com\u002Fen\u002Farticles\u002Fcreating-releases",rel:[n,o,p],target:q},children:[{type:a,value:"GitHub Releases"}]},{type:a,value:", mainly because it's free and easy to use."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Open your project's GitHub page, navigate to the "},{type:b,tag:I,props:{},children:[{type:a,value:"Releases"}]},{type:a,value:" section and then click on "},{type:b,tag:I,props:{},children:[{type:a,value:"Create a new release"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Insert a "},{type:b,tag:I,props:{},children:[{type:a,value:"tag version"}]},{type:a,value:", such as "},{type:b,tag:j,props:{},children:[{type:a,value:"v0.1.0"}]},{type:a,value:", a title and then drag the previously created archive ( in my case "},{type:b,tag:j,props:{},children:[{type:a,value:bO}]},{type:a,value:" ) into the upload section. You should have something like this:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Github Release",src:"\u002Fposts\u002Fgithubrelease.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Now click "},{type:b,tag:j,props:{},children:[{type:a,value:"Publish release"}]},{type:a,value:"   to complete the process."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In the Release page, you'll need to grab the archive URL. Expand the "},{type:b,tag:j,props:{},children:[{type:a,value:"Assets"}]},{type:a,value:" section and copy the url of the "},{type:b,tag:j,props:{},children:[{type:a,value:bO}]},{type:a,value:" archive you've just uploaded. In my case:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\u002Freleases\u002Fdownload\u002Fv0.1.0\u002Fespanso-mac.tar.gz\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:eI}]},{type:a,value:f},{type:b,tag:X,props:{id:ey},children:[{type:b,tag:i,props:{href:"#preparing-the-github-repository",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:ez}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Homebrew offers a way to create third-party repositories, "},{type:b,tag:i,props:{href:"https:\u002F\u002Fdocs.brew.sh\u002FTaps",rel:[n,o,p],target:q},children:[{type:a,value:"Taps"}]},{type:a,value:".  In a nutshell, "},{type:b,tag:v,props:{},children:[{type:a,value:"Taps are just GitHub repositories"}]},{type:a,value:" with specific names and a few configuration files."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"We will need to create one to host our project. Go ahead and create a new "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Fnew",rel:[n,o,p],target:q},children:[{type:a,value:"GitHub repository"}]},{type:a,value:", having the following name:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"homebrew-\u003Cprojectname\u003E\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:eJ},{type:b,tag:j,props:{},children:[{type:a,value:"\u003Cprojectname\u003E"}]},{type:a,value:" is the name of your project. In my case:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"homebrew-espanso\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"After cloning your brand new repository on your local machine, you are ready for the next step."}]},{type:a,value:f},{type:b,tag:X,props:{id:eA},children:[{type:b,tag:i,props:{href:"#preparing-the-formula",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:eB}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"You'll now need to create a  "},{type:b,tag:i,props:{href:"https:\u002F\u002Fdocs.brew.sh\u002FFormula-Cookbook",rel:[n,o,p],target:q},children:[{type:a,value:eK}]},{type:a,value:" for your project, a very simple "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.ruby-lang.org\u002Fen\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"Ruby"}]},{type:a,value:" file containing the instructions to install your binary on the user computers. In fact, Ruby knowledge is "},{type:b,tag:v,props:{},children:[{type:a,value:"not"}]},{type:a,value:" required."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In the cloned "},{type:b,tag:j,props:{},children:[{type:a,value:bP}]},{type:a,value:" directory, we will need the following file structure:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"- Formula\u002F\n    - espanso.rb\n- README.md\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"So go ahead and create the "},{type:b,tag:j,props:{},children:[{type:a,value:eK}]},{type:a,value:" directory, containing the "},{type:b,tag:j,props:{},children:[{type:a,value:eL}]},{type:a,value:" file ( using the name of your project )."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:eM},{type:b,tag:j,props:{},children:[{type:a,value:eL}]},{type:a,value:" file, paste the following content:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,aD]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# Documentation: https:\u002F\u002Fdocs.brew.sh\u002FFormula-Cookbook"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"#                https:\u002F\u002Frubydoc.brew.sh\u002FFormula"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# PLEASE REMOVE ALL GENERATED COMMENTS BEFORE SUBMITTING YOUR PULL REQUEST!"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bQ}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:aL}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:al}]},{type:a,value:" Formula\n  desc "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eN}]}]},{type:a,value:"\n  homepage "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eO}]}]},{type:a,value:"\n  url "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eP}]}]},{type:a,value:"\n  sha256 "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eQ}]}]},{type:a,value:"\n  version "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eR}]}]},{type:a,value:"\n\n  "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eS}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,eT]},children:[{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:eU}]}]},{type:a,value:eV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:eW},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eX}]}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bR}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Let's analyze it step by step. In the first line you have to change "},{type:b,tag:j,props:{},children:[{type:a,value:aL}]},{type:a,value:" with your projects name ( without spaces ):"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,aD]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bQ}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:aL}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:al}]},{type:a,value:" Formula\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Then add a short description for your project:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,aD]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"desc "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eN}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Then insert your project repository or website:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,aD]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"homepage "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eO}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:eM},{type:b,tag:j,props:{},children:[{type:a,value:"url"}]},{type:a,value:" field insert the archive URL we obtained in the second section:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,aD]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"url "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eP}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"And then the archive SHA256 hash we calculated earlier:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,aD]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"sha256 "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eQ}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Then insert your project version ( the same you used in the release tag ):"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,aD]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"version "},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eR}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"And finally, change "},{type:b,tag:j,props:{},children:[{type:a,value:aB}]},{type:a,value:" with your "},{type:b,tag:v,props:{},children:[{type:a,value:"binary executable filename"}]},{type:a,value:", obtained from the first section:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,aD]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eS}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,eT]},children:[{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:eU}]}]},{type:a,value:eV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:eW},{type:b,tag:c,props:{className:[d,ai]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:eX}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bR}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The last step is to "},{type:b,tag:v,props:{},children:[{type:a,value:"push"}]},{type:a,value:" the "},{type:b,tag:j,props:{},children:[{type:a,value:bP}]},{type:a,value:" repo to GitHub:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"git add -A\ngit commit -m \"First release\"\ngit push\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Here you can check the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fhomebrew-espanso",rel:[n,o,p],target:q},children:[{type:a,value:bP}]},{type:a,value:" repository."}]},{type:a,value:f},{type:b,tag:X,props:{id:eC},children:[{type:b,tag:i,props:{href:"#installing-the-package",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:eD}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"All right, if you followed me until here, your users are ready to install the package using Homebrew:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"brew tap federico-terzi\u002Fespanso\nbrew install espanso\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:eJ},{type:b,tag:j,props:{},children:[{type:a,value:"federico-terzi\u002Fespanso"}]},{type:a,value:" is your GitHub username combined with the project name."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As an example, let's say your username is "},{type:b,tag:j,props:{},children:[{type:a,value:"jon-snow"}]},{type:a,value:", your project is called "},{type:b,tag:j,props:{},children:[{type:a,value:"wolf"}]},{type:a,value:" and your "},{type:b,tag:j,props:{},children:[{type:a,value:"homebrew-wolf"}]},{type:a,value:" repository url is:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"https:\u002F\u002Fgithub.com\u002Fjon-snow\u002Fhomebrew-wolf\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"the users will install your package using:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"brew tap jon-snow\u002Fwolf\nbrew install wolf\n"}]}]}]},{type:a,value:f},{type:b,tag:X,props:{id:ae},children:[{type:b,tag:i,props:{href:aI,ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This was a basic way to publish your package on Homebrew, but things can get much better. In fact, on "},{type:b,tag:i,props:{href:bc,rel:[n,o,p],target:q},children:[{type:a,value:aB}]},{type:a,value:" I "},{type:b,tag:v,props:{},children:[{type:a,value:"automated the whole process"}]},{type:a,value:" using "},{type:b,tag:i,props:{href:"https:\u002F\u002Fazure.microsoft.com\u002Fen-us\u002Fservices\u002Fdevops\u002Fpipelines\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"Azure Pipelines"}]},{type:a,value:" so that everytime I push an update to the "},{type:b,tag:j,props:{},children:[{type:a,value:eY}]},{type:a,value:" branch on GitHub, my project is automatically built, tested and published on Homebrew. Let me know if you're interested to know more about that :)"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you liked the article and want to stay up to date, follow me on "},{type:b,tag:i,props:{href:aU,rel:[n,o,p],target:q},children:[{type:a,value:aV}]},{type:a,value:aW},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi",rel:[n,o,p],target:q},children:[{type:a,value:"GitHub"}]},{type:a,value:" :)"}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:eE},{type:b,tag:i,props:{href:bc,rel:[n,o,p],target:q},children:[{type:a,value:aB}]},{type:a,value:eF},{type:b,tag:I,props:{},children:[{type:a,value:eG}]},{type:a,value:eH}]}]},dir:ar,path:"\u002Farticles\u002F2019-10-06-how-to-publish-your-rust-project-on-homebrew",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"how-to-publish-your-rust-project-on-homebrew"},{slug:"2019-09-03-3-great-python-tricks-you-may-not-know",description:"Python is a wonderful language. Other than being simple to learn and fast to write, it’s also very powerful thanks to its huge ecosystem. In fact, it has so many features that it’s easy to miss some good ones. In this article I’m going to show you 3 great Python tricks you may have missed:",layout:aj,title:"3 Great Python Tricks You May Not Know",author:ak,date:"2019-09-03T00:00:00.000Z",categories:"python tricks randomdevtricks development",toc:[{id:aY,depth:M,text:aY},{id:aJ,depth:M,text:aJ},{id:eZ,depth:M,text:e_},{id:ae,depth:M,text:af}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:e$},{type:b,tag:I,props:{},children:[{type:a,value:fa}]},{type:a,value:fb},{type:b,tag:v,props:{},children:[{type:a,value:fc}]},{type:a,value:fd}]},{type:a,value:f},{type:a,value:f},{type:b,tag:N,props:{id:aY},children:[{type:b,tag:i,props:{href:"#tqdm",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:aY}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you ever use Python to do some sort of elaboration, chances are you find yourself writing a for loop, iterating through a list of items to process each one them. For example:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bt]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:bT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bp}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aT}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"But how could you track the status of the process if the code took more than a few seconds to complete? You probably would start adding some prints:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bt]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:bT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"Processing:\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:" item"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bp}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aT}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"Done!\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"While this is a working solution, a smarter approach would be using tqdm."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:aY}]},{type:a,value:" is a Python library that makes it easy to show a smart progress bar for almost any kind of loop processing. Let’s see an example:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The first thing to do is installing the package using pip:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"pip install tqdm\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Then we can use it in our code by simply wrapping the iterable inside the "},{type:b,tag:j,props:{},children:[{type:a,value:"tqdm()"}]},{type:a,value:" call:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bu}]},{type:a,value:" tqdm "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:" tqdm\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:a,value:" tqdm"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,bt]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:bT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bp}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aT}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Now if you execute this code, you will see a nice progress bar appear in your terminal."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"tqdm Progress Bar",src:"\u002Fposts\u002Ftqdmanimated.gif"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As you can see, besides the progress, it also shows the speed and the expected remaining time. The great thing is that you can use "},{type:b,tag:v,props:{},children:[{type:a,value:aY}]},{type:a,value:" with any iterable, making it trivial to improve your existing scripts!"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This library has many more features, so if you haven’t already, check out the"},{type:b,tag:i,props:{href:"https:\u002F\u002Ftqdm.github.io\u002F",rel:[n,o,p],target:q},children:[{type:a,value:" official documentation"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:N,props:{id:aJ},children:[{type:b,tag:i,props:{href:"#defaultdict",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:aJ}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"One of the best things about Python is its simplicity. Once you know the basic structures of the language, you can immediately start writing code with it. While being a great aspect, it sometimes causes people to miss some neat data structures, such as "},{type:b,tag:j,props:{},children:[{type:a,value:aJ}]},{type:a,value:". Let’s see where it can be useful with an example:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Given a text, you want to group words by their initials. The structure we’re looking for here is a "},{type:b,tag:v,props:{},children:[{type:a,value:"dictionary of lists"}]},{type:a,value:", having the initials as key and a list of words as value, something like this:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"{\n    \"a\": [\"all\", \"although\", \"average\"],\n    \"b\": [\"best\", \"both\"],\n    ...\n}\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"So you start writing code, and you come up with something like this:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:a,value:fe},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"a long text but very interesting and fun\""}]},{type:a,value:"\ndata "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:ff},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"But then you get the following error:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"Traceback (most recent call last):\n  File \"main.py\", line 5, in \u003Cmodule\u003E\n    data[word[0]].append(word)\nKeyError: 'a'\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Of course, the first time you see an initial, the associated list is not initialized. Easy to fix, we must first check if the key is present and, if not, initialize the list:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:a,value:fe},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:fg}]},{type:a,value:fh},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cI}]},{type:a,value:" word"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:a,value:" data"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:fi},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"else"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:fi},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"And now it is working, but the code became bloated with the check. "},{type:b,tag:v,props:{},children:[{type:a,value:aJ}]},{type:a,value:" is meant to solve that problem. In particular, we can specify the "},{type:b,tag:I,props:{},children:[{type:a,value:"default value"}]},{type:a,value:" of a key that has never been accessed, such as an empty list. The code now becomes:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bu}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:" defaultdict\ntext "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:fg}]},{type:a,value:fh},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:" defaultdict"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,bt]},children:[{type:a,value:fj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:ff},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"As you can see, we completely removed the check, and the code is still working! This is possible because we replaced the dictionary with a "},{type:b,tag:I,props:{},children:[{type:a,value:"defaultdict,"}]},{type:a,value:" specifying "},{type:b,tag:I,props:{},children:[{type:a,value:fj}]},{type:a,value:" as the default value ( meaning an empty list )."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"A similar problem arises when we want to count the number of occurrences of each word in a text. While we could use a "},{type:b,tag:v,props:{},children:[{type:a,value:aJ}]},{type:a,value:" with 0 as the default value, there’s a class made exactly for that purpose:"}]},{type:a,value:f},{type:b,tag:N,props:{id:eZ},children:[{type:b,tag:i,props:{href:"#counter",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:e_}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The Counter class was specifically made to solve those kinds of problems, adding also a couple of extra goodies to the mix. For example:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"We want to count the number of occurrences of each word in a text. With the Counter class, this is easily accomplished:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bu}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:" Counter\ntext "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:fk}]},{type:a,value:"\n\nc "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:fl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aK}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aE}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:R}]},{type:a,value:"\n  c"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"+="}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:cM}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Actually we can do even better using the Counter’s constructor:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bu}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:" Counter\n\ntext "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:fk}]},{type:a,value:"\nc "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:fl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"At this point, we can use some neat features such as the "},{type:b,tag:j,props:{},children:[{type:a,value:fm}]},{type:a,value:" method:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,ax]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"# Print the 3 most common words, along with their count"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:"3"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:N,props:{id:ae},children:[{type:b,tag:i,props:{href:aI,ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"There are many other great tools hidden under the surface and I recommend you to check out the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fdocs.python.org\u002F3\u002Flibrary\u002Fcollections.html",rel:[n,o,p],target:q},children:[{type:a,value:"official documentation of the collections package"}]},{type:a,value:" to see many more."}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:e$},{type:b,tag:I,props:{},children:[{type:a,value:fa}]},{type:a,value:fb},{type:b,tag:v,props:{},children:[{type:a,value:fc}]},{type:a,value:fd}]}]},dir:ar,path:"\u002Farticles\u002F2019-09-03-3-great-python-tricks-you-may-not-know",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"3-great-python-tricks-you-may-not-know"},{slug:"2019-08-27-how-to-build-remote-camera-app-android",description:"I love automating things, especially the boring ones. Having a Youtube channel, I found that editing videos can be very time-consuming and so I started thinking about ways to improve my workflow.",layout:aj,title:"Building a Remote Camera App for Android",author:ak,date:"2019-08-27T00:00:00.000Z",categories:"android development",toc:[{id:fn,depth:W,text:fo},{id:fp,depth:W,text:fq},{id:fr,depth:M,text:fs},{id:ft,depth:M,text:fu},{id:fv,depth:M,text:fw}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:fx},{type:b,tag:i,props:{href:aH,rel:[n,o,p],target:q},children:[{type:a,value:fy}]},{type:a,value:fz}]},{type:a,value:f},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"My main bottlenecks are "},{type:b,tag:v,props:{},children:[{type:a,value:"cutting the video clips"}]},{type:a,value:av},{type:b,tag:v,props:{},children:[{type:a,value:"transferring the videos to the PC"}]},{type:a,value:". Because I record those videos with my smartphone, I wanted an app that could:"}]},{type:a,value:f},{type:b,tag:aw,props:{},children:[{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Control the camera from my PC"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Organize the clip files in a way that makes editing easier"}]},{type:a,value:f},{type:b,tag:T,props:{},children:[{type:a,value:"Send the clips automatically to my computer"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I searched for a while on the Play Store, but I couldn’t find an app that completely satisfied my needs and so, being a developer, "},{type:b,tag:I,props:{},children:[{type:a,value:"I decided to create my own"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:X,props:{id:fn},children:[{type:b,tag:i,props:{href:"#forking-open-camera",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:fo}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Creating a Camera App isn’t a trivial task, so it made sense to start from an existing project. Luckily for me, Mark Harman created "},{type:b,tag:i,props:{href:"https:\u002F\u002Fopencamera.sourceforge.io\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"Open Camera"}]},{type:a,value:", an awesome open-source camera App for Android that I used as a starting point."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The goal at this point was clear, "},{type:b,tag:v,props:{},children:[{type:a,value:"forking Open Camera"}]},{type:a,value:" and adding the "},{type:b,tag:v,props:{},children:[{type:a,value:"remote control"}]},{type:a,value:av},{type:b,tag:v,props:{},children:[{type:a,value:"file transfer"}]},{type:a,value:" functionality."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The Open Camera repository is hosted on "},{type:b,tag:v,props:{},children:[{type:a,value:"Sourceforge"}]},{type:a,value:" but I wanted to fork it on "},{type:b,tag:v,props:{},children:[{type:a,value:"Github"}]},{type:a,value:". Thanks to the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Fnew\u002Fimport",rel:[n,o,p],target:q},children:[{type:a,value:"Github Importer"}]},{type:a,value:" utility, the process was painless."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Forking Open Camera on Github",src:"\u002Fposts\u002Fopencameraimport.png"},children:[]}]},{type:a,value:f},{type:b,tag:X,props:{id:fp},children:[{type:b,tag:i,props:{href:"#compile-the-sources",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:fq}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"After cloning the repository, I was ready to open the project with Android Studio to study the source, but first, I had to check if I could compile the app."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I started the compilation process, but as I already had Open Camera installed on my smartphone, "},{type:b,tag:v,props:{},children:[{type:a,value:"I got a naming conflict"}]},{type:a,value:R}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Naming Conflict Package Android",src:"\u002Fposts\u002Fandroidnamingconflict.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This happened because both the original and my forked version "},{type:b,tag:I,props:{},children:[{type:a,value:"shared the same package id"}]},{type:a,value:". To fix this problem, all I had to do was to rename the package. All occurrences of "},{type:b,tag:j,props:{},children:[{type:a,value:"net.sourceforge.opencamera"}]},{type:a,value:" had been replaced with "},{type:b,tag:j,props:{},children:[{type:a,value:"com.federicoterzi.opencamerastudio"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This was easily accomplished with the "},{type:b,tag:v,props:{},children:[{type:a,value:"refactoring functions"}]},{type:a,value:" of Android Studio, combined with the very useful "},{type:b,tag:I,props:{},children:[{type:a,value:"Find in Path"}]},{type:a,value:" action."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"It’s also necessary to "},{type:b,tag:v,props:{},children:[{type:a,value:"change the folder structure"}]},{type:a,value:" to reflect the new package name. "},{type:b,tag:i,props:{href:"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F16804093\u002Frename-package-in-android-studio",rel:[n,o,p],target:q},children:[{type:a,value:"This StackOverflow question"}]},{type:a,value:" helped me in the process."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"At this point, I had a shiny new app on my smartphone, "},{type:b,tag:I,props:{},children:[{type:a,value:"Open Camera Studio"}]},{type:a,value:", ready to be tweaked."}]},{type:a,value:f},{type:b,tag:N,props:{id:fr},children:[{type:b,tag:i,props:{href:"#studying-the-source",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:fs}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I wanted to manage the camera app remotely, so the next thing to do was to find out "},{type:b,tag:v,props:{},children:[{type:a,value:"how Open Camera controlled the recordings"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I started digging in the source code. I wanted to find the UI code that triggered the recording and the class "},{type:b,tag:j,props:{},children:[{type:a,value:"MainUI"}]},{type:a,value:" caught my attention."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Open Camera MainUI class",src:"\u002Fposts\u002Fopencameraui.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Scrolling through the source, I stumbled upon the "},{type:b,tag:j,props:{},children:[{type:a,value:"onKeyDown"}]},{type:a,value:" method, apparently used to manage the events from volume buttons and selfie sticks, which in turn called the MainActivity’s takePicture method."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Open Camera Take Picture",src:"\u002Fposts\u002Fopencameratakepicture.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"After a bit of experimenting, I determined that the "},{type:b,tag:j,props:{},children:[{type:a,value:bh}]},{type:a,value:" method enabled both the start and the stop of a video recording, so I was ready for the next phase."}]},{type:a,value:f},{type:b,tag:N,props:{id:ft},children:[{type:b,tag:i,props:{href:"#adding-remote-superpowers",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:fu}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"There are many ways to make the app capable of receiving remote commands, but I found that the most versatile one is the "},{type:b,tag:v,props:{},children:[{type:a,value:"bundled web server"}]},{type:a,value:" approach: a basic "},{type:b,tag:I,props:{},children:[{type:a,value:"HTTP web server"}]},{type:a,value:" is started in the app itself and other devices in the network can send requests ( such as commands ) and get responses ( such as video files )."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This solution also has the additional advantage that it could be possible to create a "},{type:b,tag:v,props:{},children:[{type:a,value:"Web App"}]},{type:a,value:", hosted by the web server itself, to control the smartphone from any web browser in the network. I chose a different route though because I wanted to keep things simple."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The easiest way to bundle a web server on Android is the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002FNanoHttpd\u002Fnanohttpd",rel:[n,o,p],target:q},children:[{type:a,value:"NanoHTTPD Library"}]},{type:a,value:", which can be used by including the following dependency in the Gradle config file:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"implementation 'org.nanohttpd:nanohttpd:2.3.1'\n"}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I was also necessary to add the following permissions in the "},{type:b,tag:j,props:{},children:[{type:a,value:"AndroidManifest.xml"}]},{type:a,value:R}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,"language-xml"]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:fA}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bn]},children:[{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:fB}]},{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,fC]},children:[{type:b,tag:c,props:{className:[d,e,fD]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bx}]},{type:a,value:"android.permission.ACCESS_WIFI_STATE"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bx}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:fE}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:fA}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,bn]},children:[{type:b,tag:c,props:{className:[d,az]},children:[{type:a,value:fB}]},{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,fC]},children:[{type:b,tag:c,props:{className:[d,e,fD]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bx}]},{type:a,value:"android.permission.INTERNET"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bx}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:fE}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I then created the "},{type:b,tag:j,props:{},children:[{type:a,value:bi}]},{type:a,value:" class extending the "},{type:b,tag:j,props:{},children:[{type:a,value:fF}]},{type:a,value:" class and overriding the "},{type:b,tag:j,props:{},children:[{type:a,value:by}]},{type:a,value:" method. This function will be called anytime a client makes an HTTP request to the bundled webserver."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"At this point, I needed a way to trigger the "},{type:b,tag:j,props:{},children:[{type:a,value:bh}]},{type:a,value:" method when the "},{type:b,tag:j,props:{},children:[{type:a,value:by}]},{type:a,value:" method was called. Unfortunately, I could not call it directly as the "},{type:b,tag:j,props:{},children:[{type:a,value:bh}]},{type:a,value:" method must be called from the "},{type:b,tag:v,props:{},children:[{type:a,value:"main thread"}]},{type:a,value:". So I used the powerful "},{type:b,tag:i,props:{href:"https:\u002F\u002Fdeveloper.android.com\u002Freference\u002Fandroid\u002Fsupport\u002Fv4\u002Fcontent\u002FLocalBroadcastManager",rel:[n,o,p],target:q},children:[{type:a,value:bZ}]},{type:a,value:" class to setup a receiver in the MainActivity that called the "},{type:b,tag:j,props:{},children:[{type:a,value:bh}]},{type:a,value:" method and a "},{type:b,tag:v,props:{},children:[{type:a,value:"broadcast"}]},{type:a,value:" from the "},{type:b,tag:j,props:{},children:[{type:a,value:by}]},{type:a,value:" method to trigger it:"}]},{type:a,value:f},{type:b,tag:bs,props:{id:"broadcastreceiver"},children:[{type:b,tag:i,props:{href:"#broadcastreceiver",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:b_}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In the MainActivity I added the receiver code:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,b$]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fG}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:b_}]},{type:a,value:" studioCommandReceiver "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aQ}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:b_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,"annotation",e]},children:[{type:a,value:"@Override"}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fH}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"void"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"onReceive"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:"Context"}]},{type:a,value:" context"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:fI}]},{type:a,value:" intent"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bh}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,"boolean"]},children:[{type:a,value:"false"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"And the code to register\u002Funregister it:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,b$]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fH}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"static"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"final"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:aG}]},{type:a,value:" STUDIO_BROADCAST_ID "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"STUDIO_BROADCAST\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Inside the onResume() method"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"registerReceiver"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:"\n                "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aQ}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:"IntentFilter"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F Inside the onPause() method"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"unregisterReceiver"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:bs,props:{id:"server"},children:[{type:b,tag:i,props:{href:"#server",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:"Server"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:j,props:{},children:[{type:a,value:bi}]},{type:a,value:" class:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,"language-kotlin"]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"package"}]},{type:a,value:fL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"studio\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:fO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"Intent\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:fO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"support"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"v4"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"LocalBroadcastManager\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:fL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"MainActivity\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:" fi"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"iki"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"elonen"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"NanoHTTPD\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:fQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"File\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:au}]},{type:a,value:fQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:"IOException\n\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bQ}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:bi}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cc}]},{type:a,value:" mainActivity"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:R}]},{type:a,value:" MainActivity"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cc}]},{type:a,value:" port "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:R}]},{type:a,value:" Int"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:R}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:fF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"port"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"override"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"fun"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"session"},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:R}]},{type:a,value:" IHTTPSession"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:R}]},{type:a,value:" Response "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cc}]},{type:a,value:" intent "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:fI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"MainActivity"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:fK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n        LocalBroadcastManager"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"mainActivity"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"sendBroadcast"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"intent"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ec}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"newFixedLengthResponse"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,ai,"singleline"]},children:[{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"OK\""}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"And finally, the code to start the StudioServer in the MainActivity:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,b$]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fG}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:bi}]},{type:a,value:" studioServer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F In the onCreate() method"}]},{type:a,value:"\nstudioServer "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:H}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aQ}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:bi}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:S}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,Y]},children:[{type:a,value:"8000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F In the onResume() method"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"try"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:"\n    studioServer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"start"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"catch"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:"IOException"}]},{type:a,value:" e"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:K}]},{type:a,value:"\n    e"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"printStackTrace"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:L}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\u002F\u002F In the onPause() method"}]},{type:a,value:"\nstudioServer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"stop"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Now every time the MainActivity is opened, a "},{type:b,tag:v,props:{},children:[{type:a,value:"WebServer is started on port 8000"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Let’s say the smartphone has 192.168.1.100 as IP, then any other device in the same network can access the server at the address: "},{type:b,tag:i,props:{href:fS,rel:[n,o,p],target:q},children:[{type:a,value:fS}]},{type:a,value:". Anytime a request is made, the app should start\u002Fstop a recording."}]},{type:a,value:f},{type:b,tag:N,props:{id:fv},children:[{type:b,tag:i,props:{href:"#whats-next",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:fw}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This was a very basic proof of concept you can use as a starting point when building something similar. I also added many features to the app, such as file transfer and clip naming, that you can check out in the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002FOpenCameraStudio",rel:[n,o,p],target:q},children:[{type:a,value:"Github Repository"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"In the next article, we will see how to create the Desktop control panel in Go."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Open Camera Studio Remote Desktop App",src:"\u002Fposts\u002FOCSDesktopGui.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Stay tuned :)"}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:fx},{type:b,tag:i,props:{href:aH,rel:[n,o,p],target:q},children:[{type:a,value:fy}]},{type:a,value:fz}]}]},dir:ar,path:"\u002Farticles\u002F2019-08-27-how-to-build-remote-camera-app-android",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"how-to-build-remote-camera-app-android"},{slug:"2019-08-23-how-to-force-github-pages-to-rebuild-jekyll-website",description:"A month ago I decided to rebuild my website using Jekyll for a couple of reasons: it’s the official tool used by Github Pages and it supports blogging. Considering also that Github Pages is free, this is pretty much one of the best ways to build a personal website nowadays and I'm very happy with the result.",layout:aj,title:"How to Force Github Pages to Rebuild Jekyll Website",author:ak,date:"2019-08-23T00:00:00.000Z",categories:"jekyll github pages",toc:[{id:fT,depth:W,text:fU},{id:fV,depth:W,text:fW}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:fX},{type:b,tag:i,props:{href:fY,rel:[n,o,p],target:q},children:[{type:a,value:fZ}]},{type:a,value:f_},{type:b,tag:I,props:{},children:[{type:a,value:f$}]},{type:a,value:ga},{type:b,tag:v,props:{},children:[{type:a,value:gb}]},{type:a,value:gc}]},{type:a,value:f},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you plan to deploy a Jekyll website on Github Pages the process is straightforward: you "},{type:b,tag:v,props:{},children:[{type:a,value:"push your website source on the correct branch"}]},{type:a,value:" ( "},{type:b,tag:j,props:{},children:[{type:a,value:eY}]},{type:a,value:" for a personal website or "},{type:b,tag:j,props:{},children:[{type:a,value:"gh-pages"}]},{type:a,value:" for a project website ) and then the site gets compiled automatically by the Github Servers."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"While this works almost always correctly, "},{type:b,tag:v,props:{},children:[{type:a,value:"sometimes the servers don’t compile the source"}]},{type:a,value:", and the website gets stuck on the old version."}]},{type:a,value:f},{type:b,tag:X,props:{id:fT},children:[{type:b,tag:i,props:{href:"#force-a-rebuild",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:fU}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Luckily for us, we can force a website rebuild using the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fdeveloper.github.com\u002Fv3\u002Frepos\u002Fpages\u002F#request-a-page-build",rel:[n,o,p],target:q},children:[{type:a,value:"Github API v3"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"We will use "},{type:b,tag:j,props:{},children:[{type:a,value:cd}]},{type:a,value:" to make the request. If you’re using "},{type:b,tag:v,props:{},children:[{type:a,value:"Linux"}]},{type:a,value:aW},{type:b,tag:v,props:{},children:[{type:a,value:"Mac OS"}]},{type:a,value:", it comes preinstalled with the system. If you’re using "},{type:b,tag:v,props:{},children:[{type:a,value:"Windows"}]},{type:a,value:", you can "},{type:b,tag:i,props:{href:"https:\u002F\u002Fcurl.haxx.se\u002Fwindows\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"download curl here"}]},{type:a,value:" or use "},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.getpostman.com\u002F",rel:[n,o,p],target:q},children:[{type:a,value:"Postman"}]},{type:a,value:" to make the request."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Open a Terminal and paste the following code, replacing "},{type:b,tag:j,props:{},children:[{type:a,value:"USER"}]},{type:a,value:" with your Github username and "},{type:b,tag:j,props:{},children:[{type:a,value:"REPOSITORY"}]},{type:a,value:" with your repository name."}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,gd]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:cd}]},{type:a,value:ge},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:a_}]},{type:a,value:gf},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:gg}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:a_}]},{type:a,value:gh},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"USER\""}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:a_}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'https:\u002F\u002Fapi.github.com\u002Frepos\u002FUSER\u002FREPOSITORY\u002Fpages\u002Fbuilds'"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The command will prompt for your Github password, type it and press enter. If everything was correct, you should see a response like:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,Z]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"{\n  \"url\": \"https:\u002F\u002Fapi.github.com\u002Frepos\u002Fgithub\u002Fdeveloper.github.com\u002Fpages\u002Fbuilds\u002Flatest\",\n  \"status\": \"queued\"\n}\n"}]}]}]},{type:a,value:f},{type:b,tag:X,props:{id:fV},children:[{type:b,tag:i,props:{href:"#example",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:fW}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Let’s suppose my Github username is “bob” and therefore my personal website has a repository called “bob.github.io”. We use the command:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:[D,gd]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:cd}]},{type:a,value:ge},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:a_}]},{type:a,value:gf},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:gg}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:a_}]},{type:a,value:gh},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:cN}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:a_}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"'https:\u002F\u002Fapi.github.com\u002Frepos\u002Fbob\u002Fbob.github.io\u002Fpages\u002Fbuilds'"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"And then type the password."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:"If you encounter a 404 error"}]},{type:a,value:", double-check the URL and the credentials that you inserted, as they are probably incorrect."}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:fX},{type:b,tag:i,props:{href:fY,rel:[n,o,p],target:q},children:[{type:a,value:fZ}]},{type:a,value:f_},{type:b,tag:I,props:{},children:[{type:a,value:f$}]},{type:a,value:ga},{type:b,tag:v,props:{},children:[{type:a,value:gb}]},{type:a,value:gc}]}]},dir:ar,path:"\u002Farticles\u002F2019-08-23-how-to-force-github-pages-to-rebuild-jekyll-website",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"how-to-force-github-pages-to-rebuild-jekyll-website"},{slug:"2019-08-22-turn-telegram-into-a-static-web-server-with-tlgur",description:"Telegram is one of the most popular messaging apps and probably the most loved by developers. The reasons are many, but I think that it mostly boils down to their openness, which led many programmers to create unique and interesting projects around it. Today I want to share one of those: TLGUR.",layout:aj,title:"Turn Telegram into a Static Web Server with TLGUR",author:ak,date:"2019-08-22T00:00:00.000Z",categories:"telegram randomdevtricks",toc:[{id:ae,depth:W,text:af}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:gi}]},{type:a,value:gj},{type:b,tag:v,props:{},children:[{type:a,value:ce}]},{type:a,value:r}]},{type:a,value:f},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{href:gk,rel:[n,o,p],target:q},children:[{type:a,value:ce}]},{type:a,value:" is a very simple Telegram bot, originally designed to share files and images with people who don’t use Telegram. In a nutshell, "},{type:b,tag:v,props:{},children:[{type:a,value:"after sending a file to the bot you receive a URL"}]},{type:a,value:", that you can then share with everyone."}]},{type:a,value:f},{type:b,tag:bM,props:{},children:[{type:a,value:"\n "},{type:b,tag:"video",props:{width:376,height:646,loop:gl,autoPlay:gl,style:"object-fit: cover"},children:[{type:a,value:"\n                                "},{type:b,tag:"source",props:{src:"\u002Fassets\u002Fvideos\u002Ftlgur.mp4",type:"video\u002Fmp4"},children:[]},{type:a,value:"\n                                Your browser does not support the video tag.\n                            "}]},{type:a,value:aq},{type:b,tag:bN,props:{},children:[{type:a,value:gm},{type:b,tag:i,props:{href:gk},children:[{type:a,value:"TLGUR Official Website"}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This is already amazing, but for a developer, things can get even more interesting. Turns out that "},{type:b,tag:I,props:{},children:[{type:a,value:"the given link can be served as a static asset"}]},{type:a,value:" in a browser, such as a web page."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Let’s build a quick working example:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Create a \"test.html\" file with the following content:"}]},{type:a,value:f},{type:b,tag:A,props:{className:[B]},children:[{type:b,tag:C,props:{className:["language-html",D]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:gn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:go}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]}]},{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:go}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:gp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]}]},{type:a,value:"TLGUR is amazing"},{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:gp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,aa]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:gn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"And send it to the bot:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Bot Response",src:"\u002Fposts\u002Ftelegrambot.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:i,props:{href:"https:\u002F\u002Ftlgur.com\u002Fd\u002F89eJjoO8",rel:[n,o,p],target:q},children:[{type:a,value:"The result link"}]},{type:a,value:" can be visited with any web browser, and works as expected:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Web Page",src:"\u002Fposts\u002Ftelegrambotpage.png"},children:[]}]},{type:a,value:f},{type:b,tag:X,props:{id:ae},children:[{type:b,tag:i,props:{href:aI,ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:af}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"This opens a world of possibilities for quick experiments and, combined with the rest of Telegram APIs, could theoretically make it possible to host a full-blown website, possibly even a dynamic one. That said, this is not suited for production use and should not be abused."}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:b,tag:I,props:{},children:[{type:a,value:gi}]},{type:a,value:gj},{type:b,tag:v,props:{},children:[{type:a,value:ce}]},{type:a,value:r}]}]},dir:ar,path:"\u002Farticles\u002F2019-08-22-turn-telegram-into-a-static-web-server-with-tlgur",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"turn-telegram-into-a-static-web-server-with-tlgur"},{slug:"2019-08-10-learning-how-to-type-properly-makes-you-a-better-programmer",description:"Like many people, I wasn’t a good typer. I started using computers when I was a kid and, by the time I grew into an adult, I developed my personal typing style, using only 5 fingers.",layout:aj,title:"Learning How to Type Properly Makes You a Better Programmer",author:ak,date:"2019-08-20T00:00:00.000Z",categories:"keyboard productivity",toc:[{id:gq,depth:W,text:gr},{id:gs,depth:W,text:gt},{id:gu,depth:W,text:gv}],body:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:gw},{type:b,tag:I,props:{},children:[{type:a,value:gx}]},{type:a,value:r}]},{type:a,value:f},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Fingers",src:"\u002Fposts\u002Fhands.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Surprisingly, the biggest problem wasn’t the speed ( I achieved about 56 words per minute, an average speed ) but the "},{type:b,tag:I,props:{},children:[{type:a,value:"wrist movements"}]},{type:a,value:" I had to make. Other than being very inefficient, that would have probably caused me "},{type:b,tag:v,props:{},children:[{type:a,value:"pain"}]},{type:a,value:" in the long run."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"So about a year ago, I decided to relearn how to type "},{type:b,tag:v,props:{},children:[{type:a,value:"properly"}]},{type:a,value:", embracing the "},{type:b,tag:i,props:{href:"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FTouch_typing",rel:[n,o,p],target:q},children:[{type:a,value:"Touch Typing"}]},{type:a,value:" technique."}]},{type:a,value:f},{type:b,tag:X,props:{id:gq},children:[{type:b,tag:i,props:{href:"#learning-touch-typing",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:gr}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"The first thing I did was "},{type:b,tag:v,props:{},children:[{type:a,value:"printing a keyboard layout diagram and sticking it on my monitor"}]},{type:a,value:", so each time I had a doubt, I could check the correct finger at a glance by watching the color."}]},{type:a,value:f},{type:b,tag:bM,props:{},children:[{type:a,value:aq},{type:b,tag:Q,props:{src:"\u002Fassets\u002Fimages\u002Fkeyboardlayout.png"},children:[]},{type:a,value:aq},{type:b,tag:bN,props:{},children:[{type:a,value:gm},{type:b,tag:i,props:{href:"https:\u002F\u002Fwww.typing-lessons.org\u002F"},children:[{type:a,value:"Peter's Online Typing Course"}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"At the same time, I started practicing on "},{type:b,tag:i,props:{href:"https:\u002F\u002F10fastfingers.com\u002Ftyping-test\u002Fenglish",rel:[n,o,p],target:q},children:[{type:a,value:"10 Fast Fingers"}]},{type:a,value:av},{type:b,tag:i,props:{href:"http:\u002F\u002Fwww.speedcoder.net",rel:[n,o,p],target:q},children:[{type:a,value:"Speedcoder"}]},{type:a,value:" about 20 minutes a day."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"But the most important thing I did was to "},{type:b,tag:v,props:{},children:[{type:a,value:"force myself to write properly from that moment on"}]},{type:a,value:", even if it was difficult. And for the first week, it was very difficult."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"I started tracking my progress and after about 2 weeks I was achieving the same speed as my old method. Then, as time went on, my fluency kept improving, as you can tell from this graph:"}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:b,tag:Q,props:{alt:"Typing Speed Graph",src:"\u002Fposts\u002Ftypingspeedgraph.png"},children:[]}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"After 2 months "},{type:b,tag:v,props:{},children:[{type:a,value:"I was comfortable with touch typing"}]},{type:a,value:", my speed greatly improved and I was ready for the next step:"}]},{type:a,value:f},{type:b,tag:X,props:{id:gs},children:[{type:b,tag:i,props:{href:"#moving-to-the-us-keyboard-layout",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:gt}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"If you live in the US this may sound obvious to you, but "},{type:b,tag:v,props:{},children:[{type:a,value:"the English US Keyboard Layout is the best for programming"}]},{type:a,value:". Why? Because the people who invented most programming languages used that layout."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Being Italian, I always used the Italian layout and, while the letters and digits were arranged in the same way as the US layout (QWERTY), the symbols were not. "},{type:b,tag:v,props:{},children:[{type:a,value:"Most of the symbols commonly used in programming were difficult"}]},{type:a,value:", if not impossible, to write on an Italian keyboard ( looking at you ~ )."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"So I decided to learn the US layout by using the same approach as before: stick a layout picture on my monitor, practicing on training websites and forcing myself to type with it."}]},{type:a,value:f},{type:b,tag:X,props:{id:gu},children:[{type:b,tag:i,props:{href:"#conclusions",ariaHidden:w,tabIndex:x},children:[{type:b,tag:c,props:{className:[y,z]},children:[]}]},{type:a,value:gv}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"After more than a year of touch typing on the US layout, I can say that "},{type:b,tag:v,props:{},children:[{type:a,value:"my overall productivity increased a lot"}]},{type:a,value:". Programming and other tasks, like using the terminal, are now a smoother experience."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"Of course, living in a non-English country, I still need to type with the Italian layout sometimes. Luckily for me, most operating systems offer a "},{type:b,tag:v,props:{},children:[{type:a,value:"quick shortcut to switch between layouts"}]},{type:a,value:" ( For example Win+Space on Windows )."}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"For those of you who are considering if learning how to type properly is worth it or not: "},{type:b,tag:v,props:{},children:[{type:a,value:"do it, it takes a little effort, but the reward is huge"}]},{type:a,value:r}]},{type:a,value:f},{type:b,tag:g,props:{},children:[{type:a,value:"PS: There are some other super-advanced layouts out there ( like Colemak and Dvorak ), but I’m not ready for those yet :)"}]}]},excerpt:{type:U,children:[{type:b,tag:g,props:{},children:[{type:a,value:gw},{type:b,tag:I,props:{},children:[{type:a,value:gx}]},{type:a,value:r}]}]},dir:ar,path:"\u002Farticles\u002F2019-08-10-learning-how-to-type-properly-makes-you-a-better-programmer",extension:as,createdAt:V,updatedAt:V,cleanedSlug:"learning-how-to-type-properly-makes-you-a-better-programmer"}]}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation","\n","p"," ","a","code",")","(","keyword","nofollow","noopener","noreferrer","_blank",".","function","string","operator","strong","true",-1,"icon","icon-link","div","nuxt-content-highlight","pre","line-numbers",";","comment","\n    ","=","em","class-name","{","}",2,"h2","macro","property","img",":",",","li","root","2022-02-04T20:14:20.639Z",3,"h3","number","language-text","\n\n","println!","tag","\n        ","::","language-rust","conclusion","Conclusion","fn","function-definition","string-literal","post","Federico Terzi","\u003C","\u003E","let","[","]","\n  ","\u002Farticles",".md","\n    \n    ","import"," and ","ul","language-python","word","namespace","main","espanso","h1","language-ruby","in","\n            ","String","https:\u002F\u002Fwww.youtube.com\u002Fc\u002FFedericoTerzi","#conclusion","defaultdict","for","Espanso","name","&","0","=\u003E","new","closure-punctuation","|","2","https:\u002F\u002Ftwitter.com\u002Fterzi_federico","Twitter"," or ","&str","tqdm"," item ","\\","Cow","str","panic","https:\u002F\u002Fespanso.org","Memory model","print","split","\" \"","takePicture","StudioServer","https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso","use","-\u003E","\"{}\"","attr-name","action","*","Youtube","!","h4","builtin","from"," word "," text","\"","serve","\u003C\u002F","std","capitalize","unwrap","\n\n    ","\u002F\u002F Output:","set_hook","closure-params","Use the ","constant","This question comes up a lot lately, especially when considering if learning Rust is worth it or not, and so I thought it could be a wonderful opportunity to write a new article, discussing the differences between the two, as well as what they share in common.","Unless you’ve been living under a rock for the past 5 years, chances are you have used an Electron-based application at least once in your life. For those (probably few) who don’t know what Electron is, it’s a cross-platform desktop app framework built on top of Chromium and NodeJS (which in turn is based on Chrome’s V8 engine).","\"hello\"","figure","figcaption","espanso-mac.tar.gz","homebrew-espanso","class","end","range","10000000","\n    result ","# Cycle through each word, appending it to the correct list","append"," collections ","c","LocalBroadcastManager","BroadcastReceiver","language-java","getInstance","this","val","curl","TLGUR","using-cowstr-as-return-type","Using Cow\u003Cstr\u003E as return type","crossbeam-channels-instead-of-the-standard-ones","Crossbeam channels instead of the standard ones","golang-like-defer-operator-with-scopeguard","Golang-like defer operator with Scopeguard","cargo-make-for-packaging","Cargo-make for packaging","customize-and-chain-panic-handlers","Customize and chain Panic handlers","use-rust-analyzer-on-vscode","Use Rust Analyzer on VSCode","use-impl-trait-when-working-with-closures","Use impl Trait when working with Closures","enable-clippy-on-save-for-vscode","Enable Clippy on Save for VSCode","use-thiserror-and-anyhow-for-idiomatic-error-handling","Use “thiserror” and “anyhow” for idiomatic error handling","using-dbg-macro-instead-of-println","Using dbg!() macro instead of println!()","include_str-and-include_bytes-macros","include_str!() and include_bytes!() macros","integrating-with-cc-code","Integrating with C\u002FC++ code","Rust is a great programming language: reliable, fast, enjoyable, but also rather complex. Over the past two years, I’ve been using it both professionally and on side projects (such as ",") and, over that time, I stumbled upon many useful patterns and crates that I wish I knew when I first started learning it.","chars","Some","first_char","if"," first_char","Borrowed","\n              ","1","\"bob\"","  ","The ","Duration","s1","unbounded","i32","10","recv"," msg "," msg","scopeguard","attribute","extern"," prev_hook ","take_hook","Box","move"," panic","\n        \n        ","prev_hook","    \n    ","A","FnOnce","\"setting up...\"","\"tearing down...\"","setup_teardown","dbg!","const","FILE_CONTENT","\"nativemodule\"","similarities","Similarities","memory-and-thread-safety","Memory and Thread safety","unsafe-rust","Unsafe Rust","package-management-and-ecosystem","Package management and ecosystem","macros","Macros","cross-platform-core-native-ui","Cross-platform Core, Native UI","bonus","Bonus:","qt","QT","localhost-server","Localhost server","embedding-the-systems-webview","Embedding the system’s webview","notable-mentions","Notable mentions","https:\u002F\u002Fespanso.org\u002F",", ","If you liked the article, follow me on ","memory-model","string-literals","String literals","tips-for-beginners","Tips for beginners","When I started learning Rust a couple of years ago, the first thing that really got me thinking was strings. You see, in Rust, there are 2 string types: the "," and the "," types.","var s ","\" hello \"","trim","S","to_string"," is of type "," s2","return","validating-a-regex","Validating a Regex","extracting-data","Extracting data","substitution","Substitution","code-generation","Code generation","If you've been programming for a while, you will surely know how useful ","regular expressions"," can be when dealing with text.","You may want to validate a string (such as checking whether an email field is valid) or extract some information from formatted text. In both cases, building the right regex can take many attempts.","https:\u002F\u002Fregex101.com\u002F","Regex101","SUBSTITUTION","As a developer myself, I know how hard it can be to promote a project. You spent weeks, months, or even years, developing your idea, only to find out later that nobody is noticing it.","Turns out that promotion, probably the least favourable thing for a programmer, is important as well.","preparing-the-binary","Preparing the binary","uploading-to-github-releases","Uploading to Github Releases","preparing-the-github-repository","Preparing the Github Repository","preparing-the-formula","Preparing the Formula","installing-the-package","Installing the Package","Last week I finally released the first version of ",", a cross-platform, system-wide ","Text Expander"," written in Rust.","Save it somewhere, we will need it later.","Where ","Formula","espanso.rb","In the ","\"Cross-platform Text Expander written in Rust\"","\"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\"","\"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\u002Freleases\u002Flatest\u002Fdownload\u002Fespanso-mac.tar.gz\"","\"2473866b99eef9ea983200b7aac91592b938404ffaa1fb8c72beacb2ebd3203a\"","\"0.1.0\"","def","method-definition","install","\n    bin","install ","\"espanso\"","master","counter","Counter","Python is a ","wonderful"," language. Other than being simple to learn and fast to write, it’s also very powerful thanks to its ","huge ecosystem",". In fact, it has so many features that it’s easy to miss some good ones. In this article I’m going to show you 3 great Python tricks you may have missed:","text ","\n    data","'a long text but very interesting and fun'","\n\ndata ","\n        data","list","'and another long text but interesting and fun'"," Counter","most_common","forking-open-camera","Forking Open Camera","compile-the-sources","Compile the Sources","studying-the-source","Studying the Source","adding-remote-superpowers","Adding Remote Superpowers","whats-next","What’s next?","I love automating things, especially the boring ones. Having a ","Youtube channel",", I found that editing videos can be very time-consuming and so I started thinking about ways to improve my workflow.","uses-permission","android:","attr-value","attr-equals","\u002F\u003E","NanoHTTPD","private","public","Intent","studioCommandReceiver","STUDIO_BROADCAST_ID"," com","federicoterzi","opencamerastudio"," android","content"," java","io","http:\u002F\u002F192.168.1.100:8000\u002F","force-a-rebuild","Force a Rebuild","example","Example","A month ago I decided to rebuild my website using ","https:\u002F\u002Fjekyllrb.com","Jekyll"," for a couple of reasons: it’s the official tool used by ","Github Pages"," and it supports ","blogging",". Considering also that Github Pages is free, this is pretty much one of the best ways to build a personal website nowadays and I'm very happy with the result.","language-bash"," -X POST ","\n    --header ","'Accept: application\u002Fvnd.github.mister-fantastic-preview+json'","\n    -u ","Telegram"," is one of the most popular messaging apps and probably the most loved by developers. The reasons are many, but I think that it mostly boils down to their openness, which led many programmers to create unique and interesting projects around it. Today I want to share one of those: ","https:\u002F\u002Ftlgur.com\u002F",true,"Image from ","html","head","body","learning-touch-typing","Learning Touch Typing","moving-to-the-us-keyboard-layout","Moving to the US Keyboard layout","conclusions","Conclusions","Like many people, I wasn’t a good typer. I started using computers when I was a kid and, by the time I grew into an adult, I developed my personal typing style, using ","only 5 fingers")));