<template>
  <div
    class="container"
    v-observe-visibility="{ callback: visibilityChanged, once: true }"
  >
    <div class="title-col" :class="{ 'animate-left': visible }">
      <ArrowLeft class="title-arrow" />
      <span>{{ title }}</span>
    </div>
    <div class="divider"></div>
    <div class="content-col" :class="{ 'animate-right': visible }">
      <div class="content">
        <slot></slot>
      </div>
    </div>
  </div>
</template>

<script>
import ArrowLeft from '~/assets/svg/arrow-left.svg?inline'

export default {
  name: 'HomeSection',
  props: {
    title: String,
  },
  components: {
    ArrowLeft,
  },
  data: () => ({
    visible: false,
  }),
  methods: {
    visibilityChanged(isVisible) {
      this.visible = isVisible
    },
  },
}
</script>

<style scoped>
.container {
  display: flex;
  align-items: stretch;
  padding: 28px;
}

.title-col {
  display: flex;
  flex: 1;
  justify-content: flex-end;

  font-style: normal;
  font-weight: bold;
  font-size: 28px;
  line-height: 34px;

  color: var(--accent-menu);
  opacity: 0.01;
}

.title-arrow {
  margin-right: 8px;
}

.content-col {
  opacity: 0.01;
  flex: 1.5;
}

.animate-left {
  animation: slide-in-blurred-left 1.5s cubic-bezier(0.23, 1, 0.32, 1) both;
}

.animate-right {
  animation: slide-in-blurred-right 1.5s cubic-bezier(0.23, 1, 0.32, 1) both;
}

.content {
  max-width: 450px;
}

.divider {
  opacity: 0.1;
  border: 1px solid #1a1a1a;
  margin-right: 48px;
  margin-left: 48px;
}

@media (max-width: 992px) {
  .container {
    flex-direction: column;
  }

  .title-col {
    justify-content: flex-start;
    margin-left: -8px;
    margin-bottom: 24px;
  }

  .divider {
    display: none;
  }
}

/* ----------------------------------------------
 * Generated by Animista on 2022-1-24 21:57:10
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation slide-in-blurred-right
 * ----------------------------------------
 */
@keyframes slide-in-blurred-right {
  0% {
    transform: translateX(200px);
    transform-origin: 0% 50%;
    filter: blur(40px);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    transform-origin: 50% 50%;
    filter: blur(0);
    opacity: 1;
  }
}

@keyframes slide-in-blurred-left {
  0% {
    transform: translateX(-200px);
    transform-origin: 0% 50%;
    filter: blur(40px);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    transform-origin: 50% 50%;
    filter: blur(0);
    opacity: 1;
  }
}
</style>